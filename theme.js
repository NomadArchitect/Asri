(()=>{"use strict";var e={927:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=o(279),s=o(832),r=o(130);setTimeout((()=>n(void 0,void 0,void 0,(function*(){(0,i.addEnvClassNames)(),(0,s.useSysScrollbar)(),(0,r.applyTrafficLightPosition)(),window.destroyTheme=()=>{(0,i.removeEnvClassNames)(),(0,s.restoreDeletedRules)(),(0,r.restoreTrafficLightPosition)()}}))),0)},279:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeEnvClassNames=t.addEnvClassNames=void 0;const n=o(49),i=[{condition:n.environment.isMacOS,className:"body--mac"},{condition:n.environment.isLinux,className:"body--linux"},{condition:n.environment.isMobile,className:"body--mobile"},{condition:n.environment.isInBrowser,className:"body--browser"},{condition:n.environment.isAndroid,className:"body--android"},{condition:n.environment.isIOSApp,className:"body--iosApp"}];t.addEnvClassNames=function(){i.forEach((({condition:e,className:t})=>{e&&document.body.classList.add(t)}))},t.removeEnvClassNames=function(){i.forEach((({className:e})=>{document.body.classList.remove(e)}))}},832:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.restoreDeletedRules=t.useSysScrollbar=t.asriDeletedRules=void 0;const i=o(49);t.asriDeletedRules=[],t.useSysScrollbar=function(){return n(this,void 0,void 0,(function*(){if(i.environment.isMacOS||i.environment.isMobile)for(let e=0;e<document.styleSheets.length;e++){let o=document.styleSheets[e];try{for(let e=0;e<o.cssRules.length;e++){let n=o.cssRules[e];n.selectorText&&n.selectorText.includes("::-webkit-scrollbar")&&(n.style.width||n.style.height||n.style.backgroundColor)&&(t.asriDeletedRules.push({styleSheet:o,rule:n.cssText}),o.deleteRule(e),e--)}}catch(e){console.log(e)}}}))},t.restoreDeletedRules=function(){return n(this,void 0,void 0,(function*(){if(t.asriDeletedRules)for(let e=0;e<t.asriDeletedRules.length;e++){let o=t.asriDeletedRules[e];o.styleSheet.insertRule(o.rule,o.styleSheet.cssRules.length)}}))}},130:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.restoreTrafficLightPosition=t.applyTrafficLightPosition=t.setTrafficLightPosition=void 0;const n=o(571),i=o(49);function s(e,t=e){n.remote.getCurrentWindow().setWindowButtonPosition({x:e,y:t})}t.setTrafficLightPosition=s,t.applyTrafficLightPosition=function(){i.environment.isMacOS&&!i.environment.isInBrowser&&s(16),i.environment.isMacOS&&i.environment.isMiniWindow&&s(14)},t.restoreTrafficLightPosition=function(){i.environment.isMacOS&&!i.environment.isInBrowser&&s(8),i.environment.isMacOS&&i.environment.isMiniWindow&&s(8,13)}},571:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.remote=void 0,t.remote=o(21)},49:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.prefix=t.environment=t.asriDoms=void 0,t.asriDoms={layouts:document.getElementById("layouts"),status:document.getElementById("status"),dockl:document.getElementById("dockLeft"),dockr:document.getElementById("dockRight"),dockb:document.getElementById("dockBottom"),layoutDockl:document.querySelector(".layout__dockl"),layoutDockr:document.querySelector(".layout__dockr"),layoutDockb:document.querySelector(".layout__dockb"),toolbar:document.getElementById("toolbar"),barSync:document.getElementById("barSync"),barForward:document.getElementById("barForward"),toolbarVIP:document.getElementById("toolbarVIP"),drag:document.getElementById("drag"),barPlugins:document.getElementById("barPlugins"),barSearch:document.getElementById("barSearch"),barMode:document.getElementById("barMode")},t.environment={isMacOS:navigator.platform.indexOf("Mac")>-1,isLinux:navigator.platform.indexOf("Linux")>-1,isMobile:!!document.getElementById("sidebar"),isInBrowser:null===(o=t.asriDoms.toolbar)||void 0===o?void 0:o.classList.contains("toolbar--browser"),isMiniWindow:document.body.classList.contains("body--window"),isAndroid:"android"===window.siyuan.config.system.container,isIOSApp:(/iOS/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent))&&/AppleWebKit/i.test(navigator.userAgent),lang:window.siyuan.config.lang,supportsOklch:CSS.supports("color","oklch(from red calc(l * 0.5) 0 h)")},t.prefix="asri"},21:e=>{e.exports=require("@electron/remote")}},t={};!function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}(927)})();