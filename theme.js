!function(){const u={layouts:document.getElementById("layouts"),status:document.getElementById("status"),dockl:document.getElementById("dockLeft"),dockr:document.getElementById("dockRight"),dockb:document.getElementById("dockBottom"),layoutDockl:document.querySelector(".layout__dockl"),layoutDockr:document.querySelector(".layout__dockr"),layoutDockb:document.querySelector(".layout__dockb"),toolbar:document.getElementById("toolbar"),barSync:document.getElementById("barSync"),barForward:document.getElementById("barForward"),toolbarVIP:document.getElementById("toolbarVIP"),drag:document.getElementById("drag"),barPlugins:document.getElementById("barPlugins"),barSearch:document.getElementById("barSearch"),barMode:document.getElementById("barMode"),barMore:document.getElementById("barMore")},o=navigator.userAgent,s=-1<navigator.platform.indexOf("Mac"),c=-1<navigator.platform.indexOf("Linux");var e=/Android/.test(o),n=e&&!/(?:Mobile)/.test(o);const r=!!document.getElementById("sidebar")&&!n,d=!o.startsWith("SiYuan")||-1<o.indexOf("iPad")||n,a=document.body.classList.contains("body--window"),t=(/iOS/i.test(o)||/iPad/i.test(o))&&/AppleWebKit/i.test(o)&&o.startsWith("SiYuan/");n=window.siyuan.config.readonly;const l=window.siyuan.config.lang,R=CSS.supports("color","oklch(from red calc(l * 0.5) 0 h)"),m=[],i=[],b=[],p=(s&&(document.body.classList.add("body-asri--mac"),m.push(".body-asri--mac")),c&&(document.body.classList.add("body-asri--linux"),m.push(".body-asri--linux")),r&&(document.body.classList.add("body-asri--mobile"),m.push(".body-asri--mobile")),d&&(document.body.classList.add("body-asri--browser"),m.push(".body-asri--browser")),e&&(document.body.classList.add("body-asri--android"),m.push(".body-asri--android")),t&&(document.body.classList.add("body-asri--iosApp"),m.push(".body-asri--iosApp")),n&&(document.body.classList.add("body-asri--readOnly"),m.push(".body-asri--readOnly")),!r&&u.toolbar&&(x("AsriPluginsIconsDivider",void 0,u.drag),s&&!d?x("AsriTopbarLeftSpacing",void 0,u.barSync):x("AsriTopbarLeftSpacing",void 0,u.barForward),s||d?x("AsriTopbarRightSpacing"):x("AsriTopbarRightSpacing",u.barSearch)),document.getElementById("AsriPluginsIconsDivider")),N=document.getElementById("AsriTopbarLeftSpacing"),$=document.getElementById("AsriTopbarRightSpacing"),f=u.toolbar,H=document.createElementNS("http://www.w3.org/2000/svg","svg");function h(o,t){o.includes(t)||o.push(t)}$?.appendChild(H.cloneNode(!0)),p?.appendChild(H.cloneNode(!0)),N?.appendChild(H.cloneNode(!0));const _={followSysAccentColor:"1",chroma:"1",userCustomColor:""},g={zh_CN:{followSysAccent:"跟随系统强调色",pickColor:"自定义主题色",asriChroma:"色度："},zh_CHT:{followSysAccent:"跟隨系統強調色",pickColor:"自定義主題色",asriChroma:"色度："},en_US:{followSysAccent:"Follow system accent color",pickColor:"Customize theme color",asriChroma:"Chroma: "}},Y=("zh_CN"===l||"zh_CHT"===l?g[l]:g.en_US).asriChroma;let j,y,q,B;{async function w(){await async function(o,t,e=!1,n=Date.now()){t=new Blob([t]),t=new File([t],o.split("/").pop());let i=new FormData;i.append("path",o),i.append("file",t),i.append("isDir",e),i.append("modTime",n);const a=await fetch("/api/file/putFile",{body:i,method:"POST",headers:{Authorization:"Token ''"}});return 200===a.status?a.json():null}("/data/snippets/Asri.config.json",JSON.stringify(_,void 0,4))}function V(){let n,i,a;setTimeout(()=>{if(!document.querySelector(".asri-config")){const t=document.querySelector('#commonMenu[data-name="barmode"] .b3-menu__items');if(t){var o=`<button class="b3-menu__separator asri-config"></button><button class="b3-menu__item asri-config" id="pickColor"><svg class="b3-menu__icon"></svg><label for="asriColorPicker" class="be-menu__label">${("zh_CN"===l||"zh_CHT"===l?g[l]:g.en_US).pickColor}</label><input id="asriColorPicker" type="color" value="${_.userCustomColor}"></button><button class="b3-menu__item asri-config" id="followSysAccent"><svg class="b3-menu__icon"></svg><label for="" class="be-menu__label">${("zh_CN"===l||"zh_CHT"===l?g[l]:g.en_US).followSysAccent}</label></button><button class="b3-menu__item asri-config" data-type="nobg" id="asriChroma"><svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"d="m19 11l-8-8l-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0zM5 2l5 5m-8 6h15m5 7a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4c.3 1.6 2 2.4 2 4" /></svg><div aria-label="${Y+a?.value||"1"}"class="b3-tooltips b3-tooltips__n"><input style="box-sizing: border-box" type="range" id="asriChromaSlider" class="b3-slider fn__block" min="0"max="5" step="0.1" value="1"></div></button>`,o=document.createRange().createContextualFragment(o);t.appendChild(o),h(m,".asri-config"),n=document.getElementById("followSysAccent"),i=document.getElementById("pickColor"),a=document.getElementById("asriChromaSlider"),colorPicker=i.lastElementChild,n.classList.toggle("b3-menu__item--selected",y),i.classList.toggle("b3-menu__item--selected",!y),a.value=_.chroma||"1",a.parentElement.ariaLabel=Y+_.chroma,d||r||c?n.classList.add("fn__none"):n.addEventListener("click",()=>{y?(y=!1,n.classList.remove("b3-menu__item--selected"),i.classList.add("b3-menu__item--selected"),document.documentElement.style.setProperty("--asri-user-custom-accent",_.userCustomColor||j||"#3478f6"),v(_.chroma),_.followSysAccentColor="0"):(y=!0,n.classList.add("b3-menu__item--selected"),i.classList.remove("b3-menu__item--selected"),document.documentElement.style.removeProperty("--asri-user-custom-accent"),_.followSysAccentColor="1",J()),w()}),i.addEventListener("click",()=>{y&&(y=!1,n.classList.remove("b3-menu__item--selected"),i.classList.add("b3-menu__item--selected"),document.documentElement.style.setProperty("--asri-user-custom-accent",_.userCustomColor),v(_.chroma),_.userCustomColor=_.userCustomColor,_.followSysAccentColor="0",w())}),colorPicker.addEventListener("input",()=>{document.documentElement.style.setProperty("--asri-user-custom-accent",colorPicker.value)}),colorPicker.addEventListener("change",()=>{n.classList.remove("b3-menu__item--selected"),i.classList.add("b3-menu__item--selected"),_.userCustomColor=colorPicker.value,y=!1,_.followSysAccentColor="0",w()});const e=fo(()=>w(),200);a.addEventListener("input",function(){var o=this.value;document.documentElement.style.setProperty("--asri-c-factor",o),this.parentElement.ariaLabel=Y+o,_.chroma=o,q="0"===o,v(o),e()})}}},0)}function J(){if(!(d||r||c)){const e=require("@electron/remote").systemPreferences.getAccentColor();var o="#"+e.slice(0,6),t=function(t){if(t){var e=parseInt(t.substring(1,3),16)/255,n=parseInt(t.substring(3,5),16)/255,i=parseInt(t.substring(5,7),16)/255,t=Math.max(e,n,i),a=Math.min(e,n,i),c=(t+a)/2;if(t===a)return{h:0,s:0,l:c};let o;var r=t-a,a=.5<c?r/(2-t-a):r/(t+a);switch(t){case e:o=(n-i)/r+(n<i?6:0);break;case n:o=(i-e)/r+2;break;case i:o=(e-n)/r+4}return{h:o/=6,s:a,l:c}}}(o);j!==o&&(document.documentElement.style.setProperty("--asri-sys-accent",o),.28<t.s?document.documentElement.style.setProperty("--asri-sys-accent-accessible",o):document.documentElement.style.removeProperty("--asri-sys-accent-accessible"),B=0===t.s,document.body.classList.add("asri-mode-transition"),setTimeout(()=>{document.body.classList.remove("asri-mode-transition")},350),j=o),y&&v(t.s)}}t||(async function(){await async function(o){try{var t=await fetch("/api/file/getFile",{method:"POST",headers:{Authorization:"Token ''"},body:JSON.stringify({path:o})});return 200===t.status?t:null}catch(o){return console.error("An error occurred while fetching the file:",o),null}}("/data/snippets/Asri.config.json").then(o=>o&&200===o.status?o.json():null).then(o=>{y=Number(o?.followSysAccentColor||_.followSysAccentColor),_.followSysAccentColor=o?.followSysAccentColor||"1",_.chroma=o?.chroma||"1",_.userCustomColor=o?.userCustomColor||"#3478f6"})}().then(()=>{R&&(!(d||r||c)&&y?document.documentElement.style.removeProperty("--asri-user-custom-accent"):document.documentElement.style.setProperty("--asri-user-custom-accent",_.userCustomColor),document.documentElement.style.setProperty("--asri-c-factor",_.chroma),q="0"===_.chroma,v(_.chroma),J(),V())}),R&&u.barMode?.addEventListener("click",V))}function v(o){"0"===(chromaValue=String(o))||y&&B||q?document.documentElement.style.setProperty("--asri-c-0","0"):document.documentElement.style.removeProperty("--asri-c-0")}function k(o,t=o){require("@electron/remote").getCurrentWindow().setWindowButtonPosition({x:o,y:t})}if(s&&!d&&k(16),s&&a&&k(14),s||r)for(let o=0;o<document.styleSheets.length;o++){let e=document.styleSheets[o];try{for(let t=0;t<e.cssRules.length;t++){let o=e.cssRules[t];o.selectorText&&o.selectorText.includes("::-webkit-scrollbar")&&(o.style.width||o.style.height||o.style.backgroundColor)&&(i.push({styleSheet:e,rule:o.cssText}),e.deleteRule(t),t--)}}catch(o){console.log(o)}}function x(t,e=void 0,n=void 0){if(!document.getElementById(t)){let o=document.createElement("div");o.id=t,e?u.toolbar.insertBefore(o,e):n?u.toolbar.insertBefore(o,n.nextSibling):u.toolbar.appendChild(o)}}let U=!1,X,K,W,T=u.drag?.getBoundingClientRect().left,S=u.drag?.getBoundingClientRect().right,E=u.toolbar?.getBoundingClientRect(),C=!1;function G(){C=u.toolbar.scrollWidth>u.toolbar.clientWidth+2,u.barMore.classList.contains("fn__none")||(C=!0),console.log("顶栏内容宽度：",u.toolbar.scrollWidth),console.log("顶栏实际宽度：",u.toolbar.clientWidth),fo(()=>{console.log("顶栏溢出：",C),C?document.body.classList.add("asri-disable-topbar-fusion"):document.body.classList.remove("asri-disable-topbar-fusion")},200)()}function Q(){U=!0,G(),clearTimeout(X),X=setTimeout(function(){if(a)P(),setTimeout(()=>{z()},200);else{if(U=!1,s){let o=document.querySelector("#AsriTopbarLeftSpacing");W=!d&&require("@electron/remote").getCurrentWindow().isFullScreen()?(document.body.classList.add("body--fullscreen"),T-=W?0:88,!0):(document.body.classList.remove("body--fullscreen"),o?.style.setProperty("width","0px"),T=u.drag?.getBoundingClientRect().left,o.style.removeProperty("width"),!1)}A(void 0,C),P(),oo(C),setTimeout(()=>{z()},200)}},200)}function A(c,r){if(!a){let o,t,e,n=(o=u.layouts.querySelector(".layout__center")?.getBoundingClientRect(),$.getBoundingClientRect(),t=u.barSync.getBoundingClientRect(),barForwardRect=u.barForward.getBoundingClientRect(),window.innerWidth),i=o.left,a=o.right;U?S+=c:(i>T+8?(f.style.setProperty("--topbar-left-spacing",0),T=W?T:u.drag.getBoundingClientRect().left,N.classList.remove("asri-expanded")):(s&&!d?f.style.setProperty("--topbar-left-spacing",i-t.right+4+"px"):f.style.setProperty("--topbar-left-spacing",i-barForwardRect.right+4+"px"),N.classList.add("asri-expanded")),a<S-8&&!r?(f.style.setProperty("--topbar-right-spacing",0),S=u.drag.getBoundingClientRect().right,u.dockr?.style.removeProperty("--avoid-topbar"),u.layoutDockr?.style.removeProperty("--avoid-topbar")):s||d?(f.style.setProperty("--topbar-right-spacing",window.innerWidth-a+1+"px"),u.dockr?.style.setProperty("--avoid-topbar","4px"),u.layoutDockr?.style.setProperty("--avoid-topbar","4px")):(f.style.setProperty("--topbar-right-spacing",window.innerWidth-a+3+"px"),u.dockr?.style.setProperty("--avoid-topbar","calc(var(--toolbar-height) - 6px)"),u.layoutDockr?.style.setProperty("--avoid-topbar","calc(var(--toolbar-height) - 6px)"))),a<S-8?(p.style.setProperty("--container-bg","var(--b3-list-hover)"),p.style.left=a+"px",p.style.right="0",p.style.removeProperty("height"),p.style.removeProperty("top")):(e=u.drag.getBoundingClientRect(),p.style.setProperty("--container-bg","var(--b3-border-color-trans)"),p.style.left=e.right-10+"px",p.style.right=n-e.right+8+"px",p.style.height="21px",p.style.top="13.5px")}}let Z=[];function P(){Z=u.layouts.querySelectorAll('[data-type="wnd"]')}function oo(){a||Z.forEach(o=>{let t=o.querySelector('.fn__flex-column[data-type="wnd"] > .fn__flex:first-child');var e,n,o=t.getBoundingClientRect(),i=u.drag.getBoundingClientRect();I(o,i)||I(o,E)?(e=o.left<i.left?i.left-o.left-4:0,n=o.right>i.right?o.right-i.right+8:0,t.style.paddingLeft=e+"px",t.style.paddingRight=n+"px",o.right-n-240<i.left&&o.left<i.left||o.left+e+240>i.right&&o.right>i.right?(t.style.paddingTop="42px",t.style.paddingLeft=0,t.style.paddingRight=0):t.style.removeProperty("padding-top")):(t.style.removeProperty("padding-left"),t.style.removeProperty("padding-right"))})}function z(){Z.forEach(o=>{let t=o.querySelector(".file-tree")?[]:o.querySelectorAll(".protyle-wysiwyg");0<t.length&&setTimeout(()=>{t.forEach(o=>{var t=o.style.paddingLeft;t!==o.dataset.prevpadding&&(o.style.setProperty("--protyle-spacing",t),o.dataset.prevpadding=t)})},300)})}if(!r){if(setTimeout(A,200),!a){let e=u.layouts.querySelector(".layout__center");const O=new ResizeObserver(o=>{for(var t of o){var e,n=t.contentBoxSize[0]["inlineSize"];t.target.dataset.prevWidth?(e=n-parseFloat(t.target.dataset.prevWidth),t.target.dataset.prevWidth=n,P(),G(),clearTimeout(K),K=setTimeout(()=>{so(),z()},200),A(e,C),oo(C),D()):t.target.dataset.prevWidth=n}});if(e)O.observe(e),b.push(O);else{let o=0,t;function to(){u.layouts=document.getElementById("layouts"),e=u.layouts.querySelector(".layout__center"),10!==++o&&!e||(clearInterval(t),O.observe(e),b.push(O))}setTimeout(()=>{t=setInterval(to,1e3)},0)}}window.addEventListener("resize",Q)}function eo(o="l"){return u["dock"+o]&&u["dock"+o].classList.contains("fn__none")}function no(){return u.dockb&&!u.dockb.classList.contains("fn__none")}function io(){var o=no(),t=function(){if(!r){const o=u.layouts,t=o.querySelector(".layout__dockb");return o&&t?.classList.contains("layout--float")&&"0px"!==t?.style.height}}();u.toolbar?.nextElementSibling.classList.toggle("has-dockb",o),u.toolbar?.nextElementSibling.classList.toggle("has-layout-dockb-float",t),u.dockb?.classList.toggle("has-layout-dockb-float",t),h(m,".has-dockb"),h(m,".has-layout-dockb-float")}function ao(){return u.status&&u.status.classList.contains("fn__none")}function co(o){return o&&!o.classList.contains("layout--float")}function ro(o){return"0px"!==o?.style.width}function D(){if(u.dockl&&!r&&!a)for(var e of["l","r"]){let o=u["layoutDock"+e],t=u["dock"+e];if(co(o)&&ro(o)?(t.classList.add("dock-layout-expanded"),h(m,".dock-layout-expanded")):t.classList.remove("dock-layout-expanded"),!eo()&&(co(n=o)||!n?.style.cssText.includes("transform: translate"))&&ro(o))switch(e){case"l":case"r":t.style.setProperty("--border-clr","transparent")}else t.style.removeProperty("--border-clr")}var n}function so(){function o(o,t){u.status.style.transform=`translate(${o}px, ${t}px)`}var t,e,n,i;r||a||(no()?(u.status?.style.removeProperty("max-width"),u.status?.style.removeProperty("transform")):(n=u.layouts.querySelector(".layout__center"))&&u.layoutDockr&&!u.status.classList.contains(".fn__none")&&(t=u.layoutDockr.clientWidth,n=n.clientWidth,u.layoutDockb=u.layouts.querySelector(".layout__dockb"),e=u.layoutDockb&&!u.layoutDockb.classList.contains(".fn__none")&&co(u.layoutDockb)?-1*u.layoutDockb.clientHeight:0,u.status.style.maxWidth=n-12+"px",n=eo("r"),i=function(o){let t=u["layoutDock"+o];return t&&(t.classList.contains("layout--float")||t.style.cssText.includes("width: 0px"))}("r"),n&&i?o(0,e):!n&&i?o(-40,e):n||i?n&&!i&&o(-1*t,e):o(-1*(t+40),e),u.status=document.getElementById("status")))}function uo(){ao()?document.body.style.setProperty("--status-height","0px"):document.body.style.setProperty("--status-height","32px")}function M(){if(!ao()){let o=u.layouts?.querySelectorAll(".layout__center .layout-tab-container"),e=u.status.getBoundingClientRect(),t=(o?.forEach(o=>{let t=o.querySelector(".file-tree");t&&!t.classList.contains("fn__none")&&I(o.getBoundingClientRect(),e)?o.style.paddingBottom="35px":o.style.removeProperty("padding-bottom")}),document.getElementById("searchList")),n=document.getElementById("searchPreview");var a,c;(t||n)&&(a=t.getBoundingClientRect(),c=n.getBoundingClientRect(),I(a,e)?t.style.paddingBottom="35px":t.style.removeProperty("padding-bottom"),I(c,e)?n.style.paddingBottom="35px":n.style.removeProperty("padding-bottom"));let i=document.getElementById("viewerContainer");i&&(I(i.getBoundingClientRect(),e)?i.style.paddingBottom="35px":i.style.removeProperty("padding-bottom")),u.layouts?.querySelectorAll(".card__main").forEach(o=>{o&&(I(o.getBoundingClientRect(),e)?o.style.paddingBottom="35px":o.style.removeProperty("padding-bottom"))})}}function I(o,t){return o&&t&&(o.right>t.left&&o.bottom>t.top&&o.left<t.left+t.width&&o.top<t.top+t.height)}function lo(){if(!r){let o=document.querySelectorAll(".file-tree .b3-list-item--focus");document.querySelectorAll(".file-tree .has-focus").forEach(o=>o.classList.remove("has-focus")),o.forEach(o=>{o.nextElementSibling&&"UL"===o.nextElementSibling.tagName&&!o.nextElementSibling.classList.contains("fn__none")||(o.parentNode.classList.add("has-focus"),h(m,".has-focus"))})}}function mo(e,n){return new MutationObserver(function(o,t){o.forEach(o=>{o.type===e&&n(o,t)})})}function bo(e,n=void 0,i=void 0){return new MutationObserver(function(o,t){o.forEach(o=>{e&&"childList"===o.type?e(o,t):n&&"attributes"===o.type?n(o,t):i&&"characterData"===o.type&&i(o,t)})})}function po(e,o,t=void 0,n=void 0,i=!1){let a={},c=(o&&(a.childList=!0),t&&(a.attributes=!0),n&&(a.characterData=!0),o&&i&&(a.subtree=!0),u["layoutDock"+e]),r=bo(o,t,n);if(c)r.observe(c,a),b.push(r);else{let o=0,t;function s(){c=u.layouts.querySelector(".layout__dock"+e),10!==++o&&!c||(clearInterval(t),u["layoutDock"+e]=c,D(),r.observe(c,a),b.push(r))}setTimeout(()=>{t=setInterval(s,1e3)},0)}}io(),D(),uo(),M(),lo();{var[e,n=void 0,L=!1]=[()=>{document.body.classList.toggle("has-exportimg",document.querySelector('[data-key="dialog-exportimage"]')),h(m,".has-exportimg")}];let o={},t=(e&&(o.childList=!0),n&&(o.attributes=!0),e&&L&&(o.subtree=!0),bo(e,n));t.observe(document.body,o),b.push(t)}if(!r&&!a){po("l",void 0,()=>{setTimeout(()=>{M()},200),D()}),po("r",void 0,()=>{setTimeout(()=>{M()},200),D()});{L="attributes";e=uo;n=u.status;let o=mo(L,e);n&&(o.observe(n,{[L]:!0}),b.push(o))}}function fo(t,e){let n=null;return(...o)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...o)},e)}}function F(){r||setTimeout(()=>{G(),P();{let o=document.querySelector("#AsriTopbarLeftSpacing"),t=document.querySelector("#AsriTopbarRightSpacing");o?.style.setProperty("width","0px"),t?.style.setProperty("width","0px"),T=u.drag?.getBoundingClientRect().left,S=u.drag?.getBoundingClientRect().right,o?.style.removeProperty("width"),t?.style.removeProperty("width")}A(void 0,C),oo(C),z(),lo();{let o=u.layouts?.querySelectorAll(".protyle .protyle-background");o.forEach(o=>{!o.querySelector(".protyle-background__img img")?.classList.contains("fn__none")&&o.querySelector(".protyle-background__icon.fn__none")?(o.classList.add("without-icon"),h(m,".without-icon")):o.classList.remove("without-icon")})}M(),io(),so(),!t&&y&&R&&J()},200)}function ho(o){"Control"!==o.key&&"Alt"!==o.key&&"Shift"!==o.key&&"Meta"!==o.key||F()}function _o(o){document.body.style.setProperty("--mouseX",o.clientX+"px"),document.body.style.setProperty("--mouseY",o.clientY+"px")}F(),window.addEventListener("mouseup",F),window.addEventListener("dragend",F),window.addEventListener("keyup",ho),window.addEventListener("dblclick",_o),window.destroyTheme=()=>{if(window.removeEventListener("mouseup",F),window.removeEventListener("keyup",ho),window.removeEventListener("dragend",F),window.removeEventListener("dblclick",_o),window.removeEventListener("resize",Q),u.barMode?.removeEventListener("click",V),b.forEach(o=>o.disconnect()),s&&!d&&k(8),s&&a&&k(8,13),m.forEach(t=>{document.querySelectorAll(t).forEach(o=>o.classList.remove(t.slice(1)))}),document.querySelector("#AsriTopbarLeftSpacing")?.remove(),document.querySelector("#AsriTopbarRightSpacing")?.remove(),document.querySelector("#AsriPluginsIconsDivider")?.remove(),document.body.style.removeProperty("--mouseX"),document.body.style.removeProperty("--mouseY"),document.body.style.removeProperty("--status-height"),document.documentElement.style.removeProperty("--asri-sys-accent"),document.documentElement.style.removeProperty("--asri-sys-accent-accessible"),document.documentElement.style.removeProperty("--asri-sys-accent-grayscale"),document.documentElement.style.removeProperty("--asri-user-custom-accent"),document.documentElement.style.removeProperty("--asri-c-factor"),document.documentElement.style.removeProperty("--asri-c-0"),document.querySelectorAll(".dock").forEach(o=>{o.style.removeProperty("--border-clr")}),setTimeout(()=>{u.toolbar?.style.removeProperty("--topbar-left-spacing"),u.toolbar?.style.removeProperty("--topbar-right-spacing"),u.dockr?.style.removeProperty("--avoid-topbar"),u.layoutDockr?.style.removeProperty("--avoid-topbar"),u.status?.style.removeProperty("max-width"),u.status?.style.removeProperty("transform");const o=document.body.querySelectorAll('[data-type="wnd"]'),t=(o.forEach(o=>{const t=o.firstElementChild,e=o.querySelectorAll(".protyle-wysiwyg");t?.style.removeProperty("padding-left"),t?.style.removeProperty("padding-right"),t?.style.removeProperty("padding-top"),e.forEach(o=>{o.style.removeProperty("--protyle-spacing"),o.dataset.prevpadding=void 0})}),u.layouts?.querySelectorAll(".layout__center .layout-tab-container"));t.forEach(o=>{o.style.removeProperty("padding-bottom")})},200),document.getElementById("searchList")?.style.removeProperty("padding-bottom"),document.getElementById("searchPreview")?.style.removeProperty("padding-bottom"),document.getElementById("viewerContainer")?.style.removeProperty("padding-bottom"),u.layouts.querySelectorAll(".card__main").forEach(o=>{o.style.removeProperty("padding-bottom")}),i)for(let t=0;t<i.length;t++){let o=i[t];o.styleSheet.insertRule(o.rule,o.styleSheet.cssRules.length)}document.body.classList.add("asri-mode-transition"),setTimeout(()=>{document.body.classList.remove("asri-mode-transition")},350)}}();