(()=>{"use strict";var e={927:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(261),s=n(832),r=n(130);setTimeout((()=>o(void 0,void 0,void 0,(function*(){(0,i.addEnvClassNames)(),(0,s.useSysScrollbar)(),(0,r.applyTrafficLightPosition)(),window.destroyTheme=()=>{(0,i.removeEnvClassNames)(),(0,s.restoreDeletedRules)(),(0,r.restoreTrafficLightPosition)()}}))),0)},261:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeEnvClassNames=t.addEnvClassNames=void 0;const o=n(49),i=[{condition:o.environment.isMacOS,className:"body--mac"},{condition:o.environment.isLinux,className:"body--linux"},{condition:o.environment.isMobile,className:"body--mobile"},{condition:o.environment.isInBrowser,className:"body--browser"},{condition:o.environment.isAndroid,className:"body--android"},{condition:o.environment.isIOSApp,className:"body--iosApp"}];t.addEnvClassNames=function(){i.forEach((({condition:e,className:t})=>{e&&document.body.classList.add(t)}))},t.removeEnvClassNames=function(){i.forEach((({className:e})=>{document.body.classList.remove(e)}))}},832:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.restoreDeletedRules=t.useSysScrollbar=t.asriDeletedRules=void 0;const i=n(49);t.asriDeletedRules=[],t.useSysScrollbar=function(){return o(this,void 0,void 0,(function*(){if(i.environment.isMacOS||i.environment.isMobile)for(let e=0;e<document.styleSheets.length;e++){let n=document.styleSheets[e];try{for(let e=0;e<n.cssRules.length;e++){let o=n.cssRules[e];o.selectorText&&o.selectorText.includes("::-webkit-scrollbar")&&(o.style.width||o.style.height||o.style.backgroundColor)&&(t.asriDeletedRules.push({styleSheet:n,rule:o.cssText}),n.deleteRule(e),e--)}}catch(e){console.log(e)}}}))},t.restoreDeletedRules=function(){return o(this,void 0,void 0,(function*(){if(t.asriDeletedRules)for(let e=0;e<t.asriDeletedRules.length;e++){let n=t.asriDeletedRules[e];n.styleSheet.insertRule(n.rule,n.styleSheet.cssRules.length)}}))}},130:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.restoreTrafficLightPosition=t.applyTrafficLightPosition=t.setTrafficLightPosition=void 0;const o=n(571),i=n(49);function s(e,t=e){null!==o.remote&&o.remote.getCurrentWindow().setWindowButtonPosition({x:e,y:t})}t.setTrafficLightPosition=s,t.applyTrafficLightPosition=function(){i.environment.isMacOS&&!i.environment.isInBrowser&&s(16),i.environment.isMacOS&&i.environment.isMiniWindow&&s(14)},t.restoreTrafficLightPosition=function(){i.environment.isMacOS&&!i.environment.isInBrowser&&s(8),i.environment.isMacOS&&i.environment.isMiniWindow&&s(8,13)}},571:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.remote=void 0;const o=n(49);t.remote=o.environment.isMobile||o.environment.isInBrowser?null:n(21)},49:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.prefix=t.environment=t.asriDoms=void 0,t.asriDoms={layouts:()=>document.getElementById("layouts"),layoutCenter:()=>document.getElementsByClassName("layout__center"),toolbar:()=>document.getElementById("toolbar"),status:document.getElementById("status"),dockl:document.getElementById("dockLeft"),dockr:document.getElementById("dockRight"),dockb:document.getElementById("dockBottom"),layoutDockl:document.getElementsByClassName(".layout__dockl"),layoutDockr:document.getElementsByClassName(".layout__dockr"),layoutDockb:document.getElementsByClassName(".layout__dockb"),barSync:document.getElementById("barSync"),barForward:document.getElementById("barForward"),toolbarVIP:document.getElementById("toolbarVIP"),drag:document.getElementById("drag"),barPlugins:document.getElementById("barPlugins"),barSearch:document.getElementById("barSearch"),barMode:document.getElementById("barMode")},t.environment={isMacOS:navigator.platform.indexOf("Mac")>-1,isLinux:navigator.platform.indexOf("Linux")>-1,isMobile:!!document.getElementById("sidebar"),isInBrowser:null===(n=t.asriDoms.toolbar())||void 0===n?void 0:n.classList.contains("toolbar--browser"),isMiniWindow:document.body.classList.contains("body--window"),isAndroid:"android"===window.siyuan.config.system.container,isIOSApp:(/iOS/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent))&&/AppleWebKit/i.test(navigator.userAgent),lang:window.siyuan.config.lang,supportsOklch:CSS.supports("color","oklch(from red calc(l * 0.5) 0 h)")},t.prefix="asri"},21:e=>{e.exports=require("@electron/remote")}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}(927)})();