(()=>{var e={12:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debouncedCalcProtyleSpacings=void 0,t.calcProtyleSpacings=i,t.removeProtyleSpacings=function(){null===o.wndElements||void 0===o.wndElements||o.wndElements.forEach((e=>{(e.querySelector(".file-tree")?[]:e.querySelectorAll(".protyle-wysiwyg")).forEach((e=>{e.style.removeProperty("--protyle-spacing"),e.dataset.prevpadding=void 0}))}))};const r=n(629),o=n(216);function i(){null===o.wndElements||void 0===o.wndElements||o.wndElements.forEach((e=>{let t=e.querySelector(".file-tree")?[]:e.querySelectorAll(".protyle-wysiwyg");setTimeout((()=>{t.forEach((e=>{let t;t=e.style.paddingLeft,t!==e.dataset.prevpadding&&(e.style.setProperty("--protyle-spacing",t),e.dataset.prevpadding=t)}))}),300)}))}t.debouncedCalcProtyleSpacings=(0,r.debounce)(i,200)},787:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.followSysAccentColor=void 0,t.makeConfigMenuItems=function(){return r(this,void 0,void 0,(function*(){var e;c.environment.isIOSApp||(d=yield v(),function(){return r(this,void 0,void 0,(function*(){yield(0,a.getFile)("/data/snippets/Asri.config.json").then((e=>e&&200===e.status?e.json():null)).then((e=>{var n,r;e?(t.followSysAccentColor=!!e.followSysAccentColor,u.followSysAccentColor=t.followSysAccentColor,u.chroma=null!==(n=e.chroma)&&void 0!==n?n:"1",u.userCustomColor=null!==(r=e.userCustomColor)&&void 0!==r?r:"#3478f6"):t.followSysAccentColor=u.followSysAccentColor}))}))}().then((()=>{c.environment.supportOklch&&(c.environment.isInBrowser||c.environment.isMobile||c.environment.isLinux?document.documentElement.style.setProperty("--asri-user-custom-accent",u.userCustomColor):t.followSysAccentColor?document.documentElement.style.removeProperty("--asri-user-custom-accent"):document.documentElement.style.setProperty("--asri-user-custom-accent",u.userCustomColor),document.documentElement.style.setProperty("--asri-c-factor",u.chroma),m="0"===u.chroma,y(u.chroma),g(),!u.followSysAccentColor&&w(u.userCustomColor),b())})),c.environment.supportOklch&&(null===(e=c.asriDoms.barMode)||void 0===e||e.addEventListener("click",b)))}))},t.removeConfigMenuItems=function(){var e;document.documentElement.style.removeProperty("--asri-user-custom-accent"),document.documentElement.style.removeProperty("--asri-sys-accent-grayscale"),document.documentElement.style.removeProperty("--asri-c-factor"),document.documentElement.style.removeProperty("--asri-sys-accent"),document.documentElement.style.removeProperty("--asri-sys-accent-accessible"),document.documentElement.style.removeProperty("--asri-c-0"),null===(e=c.asriDoms.barMode)||void 0===e||e.removeEventListener("click",b),document.querySelectorAll(".asri-config").forEach((e=>e.remove()))},t.getSystemAccentColor=g;const i=o(n(428)),a=n(613),s=n(571),l=n(629),c=n(49),u={followSysAccentColor:!0,chroma:"1",userCustomColor:""};let d,f,h=!1,m=!1;function v(){return r(this,void 0,void 0,(function*(){if(["zh_CN","zh_CHT","en_US"].includes(c.environment.lang)){return(yield fetch(`/appearance/themes/Asri/i18n/${c.environment.lang}.json`)).json()}return(yield fetch("/appearance/themes/Asri/i18n/en_US.json")).json()}))}function p(){return r(this,void 0,void 0,(function*(){yield(0,a.putFile)("/data/snippets/Asri.config.json",JSON.stringify(u,void 0,4))}))}function b(){return r(this,void 0,void 0,(function*(){Object.keys(d).length||(d=yield v());const e=d.asriChroma;let n,r,o,i;setTimeout((function(){var a,s;if(document.querySelector(".asri-config"))return;const h=document.querySelector('#commonMenu[data-name="barmode"] .b3-menu__items');if(!h)return;const v=`<button class="b3-menu__separator asri-config"></button>\n<button class="b3-menu__item asri-config" id="pickColor">\n    <svg class="b3-menu__icon"></svg>\n    <label for="asriColorPicker" class="be-menu__label">${d.pickColor}\n    </label>\n    <input id="asriColorPicker" type="color" value="${u.userCustomColor}">\n</button>\n<button class="b3-menu__item asri-config" id="followSysAccent">\n    <svg class="b3-menu__icon"></svg>\n    <label for="" class="be-menu__label">${d.followSysAccent}\n    </label>\n</button>\n<button class="b3-menu__item asri-config" data-type="nobg" id="asriChroma">\n    <svg class="b3-menu__icon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n            d="m19 11l-8-8l-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0zM5 2l5 5m-8 6h15m5 7a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4c.3 1.6 2 2.4 2 4" />\n    </svg>\n    <div aria-label="${e+(null!==(s=null!==(a=null==o?void 0:o.value)&&void 0!==a?a:u.chroma)&&void 0!==s?s:"1")}" class="b3-tooltips b3-tooltips__n">\n        <input style="box-sizing: border-box" type="range" id="asriChromaSlider" class="b3-slider fn__block" min="0"\n            max="5" step="0.1" value="1">\n    </div>\n</button>`,b=document.createRange().createContextualFragment(v);if(h.appendChild(b),n=document.getElementById("followSysAccent"),r=document.getElementById("pickColor"),o=document.getElementById("asriChromaSlider"),i=r.lastElementChild,!(n&&r&&o&&i))return;n.classList.toggle("b3-menu__item--selected",t.followSysAccentColor),r.classList.toggle("b3-menu__item--selected",!t.followSysAccentColor),o.value=u.chroma||"1",o.parentElement.ariaLabel=e+u.chroma,c.environment.isInBrowser||c.environment.isMobile||c.environment.isLinux?n.classList.add("fn__none"):n.addEventListener("click",(()=>{t.followSysAccentColor?(t.followSysAccentColor=!1,n.classList.remove("b3-menu__item--selected"),r.classList.add("b3-menu__item--selected"),document.documentElement.style.setProperty("--asri-user-custom-accent",u.userCustomColor||f||"#3478f6"),y(u.chroma),w(u.userCustomColor||f||"#3478f6"),u.followSysAccentColor=!1):(t.followSysAccentColor=!0,n.classList.add("b3-menu__item--selected"),r.classList.remove("b3-menu__item--selected"),document.documentElement.style.removeProperty("--asri-user-custom-accent"),u.followSysAccentColor=!0,g()),p()}));r.addEventListener("click",(()=>{t.followSysAccentColor&&(t.followSysAccentColor=!1,n.classList.remove("b3-menu__item--selected"),r.classList.add("b3-menu__item--selected"),document.documentElement.style.setProperty("--asri-user-custom-accent",u.userCustomColor),y(u.chroma),w(u.userCustomColor),u.userCustomColor=u.userCustomColor,u.followSysAccentColor=!1,p())})),i.addEventListener("input",(()=>{const e=i.value;document.documentElement.style.setProperty("--asri-user-custom-accent",e),w(e)})),i.addEventListener("change",(()=>{n.classList.remove("b3-menu__item--selected"),r.classList.add("b3-menu__item--selected"),u.userCustomColor=i.value,t.followSysAccentColor=!1,u.followSysAccentColor=!1,p()}));const k=(0,l.debounce)((()=>p()),200);o.addEventListener("input",(function(){let t=this.value;document.documentElement.style.setProperty("--asri-c-factor",t),this.parentElement.ariaLabel=e+t,u.chroma=t,m="0"===t,y(t),k()}))}),0)}))}function g(){if(!(c.environment.isInBrowser||c.environment.isMobile||c.environment.isLinux)){const e="#"+s.remote.systemPreferences.getAccentColor().slice(0,6),n=(0,l.hexToHSL)(e);if(!n)return;f!==e&&(document.documentElement.style.setProperty("--asri-sys-accent",e),n.s>.28?document.documentElement.style.setProperty("--asri-sys-accent-accessible",e):document.documentElement.style.removeProperty("--asri-sys-accent-accessible"),h=0===n.s,document.body.classList.add("asri-mode-transition"),setTimeout((()=>{document.body.classList.remove("asri-mode-transition")}),350),f=e),t.followSysAccentColor&&(y(n.s),w(e))}}function y(e){return"0"===String(e)||t.followSysAccentColor&&h||m?(document.documentElement.style.setProperty("--asri-c-0","0"),!0):(document.documentElement.style.removeProperty("--asri-c-0"),!1)}function w(e){const t="light"===c.environment.appSchemeMode?.82:.8;(0,i.default)(e).get("oklch.l")>t?document.documentElement.style.setProperty("--asri-on-primary-reverse","light"===c.environment.appSchemeMode?".45":".35"):document.documentElement.style.removeProperty("--asri-on-primary-reverse")}t.followSysAccentColor=!0},344:(e,t)=>{"use strict";function n(){document.body.classList.toggle("has-exportimg",!!document.querySelector('[data-key="dialog-exportimage"]'))}Object.defineProperty(t,"__esModule",{value:!0}),t.docBodyMoCallback=function(e,t){n()},t.addExportImgClassName=n},818:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDockLBgAndBorder=function(){return r(this,void 0,void 0,(function*(){const e=i.asriDoms.dockL?i.asriDoms.dockL:yield(0,o.querySelectorPromise)("#dockLeft");i.asriDoms.layoutDockL||(yield(0,o.querySelectorPromise)(".layout__dockl"));const t=i.asriDoms.dockR;for(let n of[e,t]){let t=(0,a.isDockLytPinned)(n===e?"L":"R"),r=(0,a.isDockLytExpanded)(n===e?"L":"R");t&&r?null==n||n.classList.add("dock-layout-expanded"):null==n||n.classList.remove("dock-layout-expanded")}}))},t.addDockbClassName=function(){return r(this,void 0,void 0,(function*(){var e,t,n;if(i.environment.isMobile)return;const r=yield(0,a.hasDockb)(),o=!(0,a.isDockLytPinned)("B")&&(0,a.isDockLytExpanded)("B");null===(e=i.asriDoms.toolbar)||void 0===e||e.nextElementSibling.classList.toggle("has-dockb",r),null===(t=i.asriDoms.toolbar)||void 0===t||t.nextElementSibling.classList.toggle("has-layout-dockb-float",o),null===(n=i.asriDoms.dockB)||void 0===n||n.classList.toggle("has-layout-dockb-float",o)}))},t.removeDockbClassName=function(){var e,t;null===(e=i.asriDoms.toolbar)||void 0===e||e.nextElementSibling.classList.remove("has-dockb"),null===(t=i.asriDoms.toolbar)||void 0===t||t.nextElementSibling.classList.remove("has-layout-dockb-float")},t.destroyDockBg=function(){var e;null===(e=document.querySelector(".dock-layout-expanded"))||void 0===e||e.classList.remove("dock-layout-expanded")};const o=n(629),i=n(49),a=n(216)},937:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.debouncedFormatProtyleWithBgImageOnly=void 0,t.formatProtyleWithBgImageOnly=i,t.removeProtyleWithBgImageOnlyClassName=function(){document.querySelectorAll(".protyle .protyle-background.without-icon").forEach((e=>{e.classList.remove("without-icon")}))};const o=n(629);function i(){return r(this,void 0,void 0,(function*(){let e=yield(0,o.querySelectorAllPromise)(".protyle-top>.protyle-background");null==e||e.forEach((e=>{var t;!(null===(t=e.querySelector(".protyle-background__img img"))||void 0===t?void 0:t.classList.contains("fn__none"))&&e.querySelector(".protyle-background__icon.fn__none")?e.classList.add("without-icon"):e.classList.remove("without-icon")}))}))}t.debouncedFormatProtyleWithBgImageOnly=(0,o.debounce)(i)},261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEnvClassNames=function(){o.forEach((({condition:e,className:t})=>{e&&document.body.classList.add(t)}))},t.removeEnvClassNames=function(){o.forEach((({className:e})=>{document.body.classList.remove(e)}))};const r=n(49),o=[{condition:r.environment.isMacOS,className:"body-asri--mac"},{condition:r.environment.isLinux,className:"body-asri--linux"},{condition:r.environment.isMobile,className:"body-asri--mobile"},{condition:r.environment.isInBrowser,className:"body-asri--browser"},{condition:r.environment.isAndroid,className:"body-asri--android"},{condition:r.environment.isIOSApp,className:"body-asri--iosApp"},{condition:r.environment.isReadOnly,className:"body-asri--readOnly"}]},2:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.protyleWidthChange=t.fromFullscreen=t.isWinResizing=void 0,t.loadAsriJSModules=function(){return r(this,void 0,void 0,(function*(){(0,m.addEnvClassNames)(),(0,v.useMacSysScrollbar)(),(0,y.applyTrafficLightPosition)(),(0,b.setStatusHeightVar)(),(0,u.makeConfigMenuItems)(),yield(0,l.updateWndEls)(),yield(0,g.updateDragRect)("initials"),(0,g.loadTopbarFusion)(),x(),(0,f.addDockbClassName)(),(0,b.avoidOverlappingWithStatus)(),w.start(document,"mouseup"),k.start(document,"dragend"),_.start(document,"keyup"),P.observe(document.body,a.MOConfigForClassNames),S.observe(document.body,{childList:!0}),s.asriDoms.layoutCenter||(yield(0,i.querySelectorPromise)(".layout__center")),s.environment.isMobile||(M.observe(s.asriDoms.layoutCenter),C.observe(document.body))}))},t.unloadAsriJSModules=function(){return r(this,void 0,void 0,(function*(){(0,m.removeEnvClassNames)(),(0,v.restoreDefaultSiyuanScrollbar)(),(0,y.restoreTrafficLightPosition)(),(0,b.removeStatusStyles)(),yield(0,g.unloadTopbarFusion)(),(0,f.destroyDockBg)(),(0,p.removeIndentGuidesFormatClassName)(),(0,h.removeProtyleWithBgImageOnlyClassName)(),(0,c.removeProtyleSpacings)(),(0,f.removeDockbClassName)(),(0,b.unloadAvoidOverlappingWithStatus)(),w.remove(document,"mouseup"),k.remove(document,"dragend"),_.remove(document,"keyup"),P.disconnect(),S.disconnect((()=>{document.body.classList.remove("has-exportimg")})),document.body.classList.remove("body-asri--fullscreen"),s.environment.isMobile||(M.disconnect(),C.disconnect()),(0,u.removeConfigMenuItems)()}))};const o=n(796),i=n(629),a=n(766),s=n(49),l=n(216),c=n(12),u=n(787),d=n(344),f=n(818),h=n(937),m=n(261),v=n(832),p=n(844),b=n(414),g=n(376),y=n(130),w=new o.AsriEventListener(E),k=new o.AsriEventListener(E),_=new o.AsriEventListener(E),S=new a.AsriMutationObserver((0,i.debounce)(d.docBodyMoCallback,500)),P=new a.AsriMutationObserver((function(e,t){var n;for(let t of e)t.target.classList.contains("b3-list-item--focus")&&((0,p.debouncedFormatIndentGuidesForFocusedItems)(),(0,h.debouncedFormatProtyleWithBgImageOnly)()),t.target===document.body&&((null===(n=t.oldValue)||void 0===n?void 0:n.includes("body--blur"))||t.target.className.includes("body--blur"))&&(0,l.updateWndEls)().then((()=>{x(),!s.environment.isIOSApp&&u.followSysAccentColor&&s.environment.supportOklch&&(0,u.getSystemAccentColor)()}))})),M=new a.AsriResizeObserver((function(e,n){(0,g.calcTopbarSpacings)(0,t.isWinResizing,l.doesTopBarOverflow).then(g.calcTabbarSpacings),(0,c.debouncedCalcProtyleSpacings)(),(0,b.debouncedStatusPosition)()})),C=new a.AsriResizeObserver((function(e,n){for(let n of e){t.isWinResizing=!0,D();const{inlineSize:e}=n.contentBoxSize[0];if(n.target instanceof HTMLElement){if(!n.target.dataset.prevWidth){n.target.dataset.prevWidth=e+"";continue}const r=e-parseFloat(n.target.dataset.prevWidth);n.target.dataset.prevWidth=e+"",t.protyleWidthChange=r}}}));function E(e){x(e)}function x(e){return r(this,void 0,void 0,(function*(){function t(){setTimeout((()=>r(this,void 0,void 0,(function*(){(0,f.updateDockLBgAndBorder)(),(0,h.debouncedFormatProtyleWithBgImageOnly)(),(0,b.debouncedStatusPosition)(),(0,b.setStatusHeightVar)(),yield(0,l.updateWndEls)(),(0,c.calcProtyleSpacings)(),(0,f.addDockbClassName)(),(0,b.avoidOverlappingWithStatus)(),!s.environment.isIOSApp&&u.followSysAccentColor&&s.environment.supportOklch&&(0,u.getSystemAccentColor)()}))),0)}e?(e.type.startsWith("mouse")||e.type.startsWith("drag")||e instanceof KeyboardEvent&&("Control"===e.key||"Alt"===e.key||"Shift"===e.key||"Meta"===e.key))&&(t(),setTimeout((()=>{(0,g.recalcDragInitials)(),(0,g.calcTopbarSpacings)(0,!1,l.doesTopBarOverflow).then(g.calcTabbarSpacings)}),0)):(t(),(0,g.calcTopbarSpacings)().then(g.calcTabbarSpacings))}))}t.isWinResizing=!1,t.protyleWidthChange=0;const D=(0,i.debounce)((()=>{t.isWinResizing=!1,(0,g.handleMacFullScreen)(),(0,l.updateTopbarOverflow)(),l.doesTopBarOverflow||(0,g.recalcDragInitials)(),(0,g.calcTopbarSpacings)(t.protyleWidthChange,t.isWinResizing,l.doesTopBarOverflow).then(g.calcTabbarSpacings),t.protyleWidthChange=0}),200)},832:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useMacSysScrollbar=function(){return r(this,void 0,void 0,(function*(){if(i||a)for(let e=0;e<document.styleSheets.length;e++){let t=document.styleSheets[e];try{for(let e=0;e<t.cssRules.length;e++){let n=t.cssRules[e];n.selectorText&&n.selectorText.includes("::-webkit-scrollbar")&&(n.style.width||n.style.height||n.style.backgroundColor)&&(s.push({styleSheet:t,rule:n.cssText}),t.deleteRule(e),e--)}}catch(e){}}}))},t.restoreDefaultSiyuanScrollbar=function(){return r(this,void 0,void 0,(function*(){if(s)for(let e=0;e<s.length;e++){let t=s[e];t.styleSheet.insertRule(t.rule,t.styleSheet.cssRules.length)}}))};const o=n(49),{isMacOS:i,isMobile:a}=o.environment,s=[]},844:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.debouncedFormatIndentGuidesForFocusedItems=void 0,t.formatIndentGuidesForFocusedItems=s,t.removeIndentGuidesFormatClassName=function(){document.querySelectorAll(".file-tree .has-focus").forEach((e=>e.classList.remove("has-focus")))};const o=n(629),i=n(49),{isMobile:a}=i.environment;function s(){return r(this,void 0,void 0,(function*(){if(a)return;i.asriDoms.layoutDockL||(yield(0,o.querySelectorPromise)(".layout__dockl"));let e=document.querySelectorAll(".file-tree .b3-list-item--focus");e.length&&(document.querySelectorAll(".file-tree .has-focus").forEach((e=>e.classList.remove("has-focus"))),e.forEach((e=>{e.nextElementSibling&&"UL"===e.nextElementSibling.tagName&&!e.nextElementSibling.classList.contains("fn__none")||e.parentNode instanceof Element&&e.parentNode.classList.add("has-focus")})))}))}t.debouncedFormatIndentGuidesForFocusedItems=(0,o.debounce)(s)},414:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.debouncedStatusPosition=void 0,t.statusPosition=s,t.setStatusHeightVar=function(){const e=(0,o.isStatusHidden)()?0:32;document.body.style.setProperty("--status-height",`${e}px`)},t.removeStatusStyles=function(){document.body.style.removeProperty("--status-height"),setTimeout((()=>{var e,t;null===(e=i.asriDoms.status)||void 0===e||e.style.removeProperty("max-width"),null===(t=i.asriDoms.status)||void 0===t||t.style.removeProperty("transform")}),0)},t.avoidOverlappingWithStatus=function(){var e,t;if(!(0,o.isStatusHidden)()){const n=null===(e=i.asriDoms.layouts)||void 0===e?void 0:e.querySelectorAll(".layout__center .layout-tab-container"),r=i.asriDoms.status;null==n||n.forEach((e=>{let t=e.querySelector(".file-tree");t&&!t.classList.contains("fn__none")&&(0,a.isOverlapping)(e,r)?e.style.paddingBottom="35px":e.style.removeProperty("padding-bottom")}));const o=document.getElementById("searchList"),s=document.getElementById("searchPreview");(o||s)&&((0,a.isOverlapping)(o,r)?o.style.paddingBottom="35px":o.style.removeProperty("padding-bottom"),(0,a.isOverlapping)(s,r)?s.style.paddingBottom="35px":s.style.removeProperty("padding-bottom"));const l=document.getElementById("viewerContainer");l&&((0,a.isOverlapping)(l,r)?l.style.paddingBottom="35px":l.style.removeProperty("padding-bottom")),null===(t=i.asriDoms.layouts)||void 0===t||t.querySelectorAll(".card__main").forEach((e=>{e&&((0,a.isOverlapping)(e,r)?e.style.paddingBottom="35px":e.style.removeProperty("padding-bottom"))}))}},t.unloadAvoidOverlappingWithStatus=function(){var e,t;null===(e=i.asriDoms.layouts)||void 0===e||e.querySelectorAll(".layout__center .layout-tab-container").forEach((e=>{e.style.removeProperty("padding-bottom")})),null===(t=i.asriDoms.layouts)||void 0===t||t.querySelectorAll(".card__main").forEach((e=>{e.style.removeProperty("padding-bottom")}));const n=document.getElementById("searchList"),r=document.getElementById("searchPreview"),o=document.getElementById("viewerContainer");for(const e of[n,r,o])e&&e.style.removeProperty("padding-bottom")};const o=n(216),i=n(49),a=n(629);function s(){return r(this,void 0,void 0,(function*(){var e,t;if(!i.environment.isMobile&&!i.environment.isMiniWindow)if(i.asriDoms.status||(yield(0,a.querySelectorPromise)("#status")),yield(0,o.hasDockb)())null===(e=i.asriDoms.status)||void 0===e||e.style.removeProperty("max-width"),null===(t=i.asriDoms.status)||void 0===t||t.style.removeProperty("transform");else{function n(e,t){i.asriDoms.status.style.transform=`translate(${e}px, ${t}px)`}let r=(i.asriDoms.layouts||(yield(0,a.querySelectorPromise)("#layouts"))).querySelector(".layout__center");if(r&&i.asriDoms.layoutDockR&&!i.asriDoms.status.classList.contains(".fn__none")){let s=i.asriDoms.layoutDockR.clientWidth,l=r.clientWidth,c=0;i.asriDoms.layoutDockB||(yield(0,a.querySelectorPromise)(".layout__dockb")),c=i.asriDoms.layoutDockB&&!i.asriDoms.layoutDockB.classList.contains(".fn__none")&&(0,o.isDockLytPinned)("B")?-1*i.asriDoms.layoutDockB.clientHeight:0,i.asriDoms.status.style.maxWidth=l-12+"px";let u=(0,o.isDockHidden)("R"),d=!(0,o.isDockLytPinned)("R")&&(0,o.isDockLytExpanded)("R");u&&d?n(0,c):!u&&d?n(-40,c):u||d?u&&!d&&n(-1*s,c):n(-1*(s+40),c)}}}))}t.debouncedStatusPosition=(0,a.debounce)(s)},376:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDragRect=y,t.handleMacFullScreen=function(){return r(this,void 0,void 0,(function*(){i.environment.isMacOS&&((0,a.isFullScreen)()?(document.body.classList.add("body-asri--fullscreen"),v-=g?0:88,g=!0):(document.body.classList.remove("body-asri--fullscreen"),null==l||l.style.setProperty("width","0px"),v=yield y("initials","L"),null==l||l.style.removeProperty("width"),g=!1))}))},t.calcTopbarSpacings=function(){return r(this,arguments,void 0,(function*(e=0,t=!1,n=!1){if(i.environment.isMiniWindow||i.environment.isMobile)return{execute:!1,centerRectRight:0};let a=i.asriDoms.layoutCenter||(yield(0,o.querySelectorPromise)(".layout__center"));return new Promise((o=>r(this,void 0,void 0,(function*(){var r,s,c,u,d,w;t&&(p+=e),v&&p||(yield y("initials")),f=a.getBoundingClientRect(),m=i.asriDoms.barSync.getBoundingClientRect(),h=i.asriDoms.barForward.getBoundingClientRect();let k=f.left,_=f.right,S=i.asriDoms.barSearch.getBoundingClientRect().left;t||(k>v+8?(null==b||b.style.setProperty("--topbar-left-spacing","0"),i.environment.isMacOS&&g||(yield y("initials","L")),null==l||l.classList.remove("asri-expanded")):i.environment.isMacOS&&!i.environment.isInBrowser?(b.style.setProperty("--topbar-left-spacing",k-m.right+4+"px"),null==l||l.classList.add("asri-expanded")):(b.style.setProperty("--topbar-left-spacing",k-h.right+4+"px"),null==l||l.classList.add("asri-expanded")),_<p-8&&!n?(b.style.setProperty("--topbar-right-spacing","0"),yield y("initials","R"),null===(r=i.asriDoms.dockR)||void 0===r||r.style.removeProperty("--avoid-topbar"),null===(s=i.asriDoms.layoutDockR)||void 0===s||s.style.removeProperty("--avoid-topbar")):i.environment.isMacOS||i.environment.isInBrowser?(b.style.setProperty("--topbar-right-spacing",window.innerWidth-_+1+"px"),null===(c=i.asriDoms.dockR)||void 0===c||c.style.setProperty("--avoid-topbar","4px"),null===(u=i.asriDoms.layoutDockR)||void 0===u||u.style.setProperty("--avoid-topbar","4px")):(b.style.setProperty("--topbar-right-spacing",S-_+6+"px"),null===(d=i.asriDoms.dockR)||void 0===d||d.style.setProperty("--avoid-topbar","calc(var(--toolbar-height) - 6px)"),null===(w=i.asriDoms.layoutDockR)||void 0===w||w.style.setProperty("--avoid-topbar","calc(var(--toolbar-height) - 6px)"))),o({execute:!0,centerRectRight:_})}))))}))},t.calcTabbarSpacings=function(){return r(this,arguments,void 0,(function*({execute:e,centerRectRight:t}={execute:!1,centerRectRight:0}){var n,l;e&&(u=null===(n=i.asriDoms.toolbar)||void 0===n?void 0:n.getBoundingClientRect(),yield y("rect"),f=null===(l=i.asriDoms.layoutCenter)||void 0===l?void 0:l.getBoundingClientRect(),s&&(t<p-8?(s.style.setProperty("--container-bg","var(--b3-list-hover)"),s.style.left=t+"px",s.style.right="0",s.style.removeProperty("height"),s.style.removeProperty("top"),s.style.removeProperty("width")):(s.style.setProperty("--container-bg","var(--b3-border-color-trans)"),s.style.left=d.right-10+"px",s.style.width="2px",s.style.height="21px",s.style.top="13.5px")),null===a.wndElements||void 0===a.wndElements||a.wndElements.forEach((e=>r(this,void 0,void 0,(function*(){let t,n=e.querySelector('.fn__flex-column[data-type="wnd"] > .fn__flex:first-child');t=null==n?void 0:n.getBoundingClientRect();let r=t.left<d.left?d.left-t.left-4:0,a=t.right>d.right?t.right-d.right+8:0;(0,o.isOverlapping)(n,i.asriDoms.drag)||(0,o.isOverlapping)(n,i.asriDoms.toolbar)?(n.style.paddingLeft=r+"px",n.style.paddingRight=a+"px",t.right-a-240<d.left&&t.left<d.left||t.left+r+240>d.right&&t.right>d.right?(n.style.paddingTop="42px",n.style.paddingLeft="0",n.style.paddingRight="0"):n.style.removeProperty("padding-top")):(n.style.removeProperty("padding-left"),n.style.removeProperty("padding-right"),n.style.removeProperty("padding-top"))})))))}))},t.loadTopbarFusion=function(){return r(this,void 0,void 0,(function*(){!function(){if(i.environment.isMobile)return;s=w("AsriPluginsIconsDivider",void 0,i.asriDoms.drag),l=i.environment.isMacOS&&!i.environment.isInBrowser?w("AsriTopbarLeftSpacing",void 0,i.asriDoms.barSync):w("AsriTopbarLeftSpacing",void 0,i.asriDoms.barForward),c=i.environment.isMacOS||i.environment.isInBrowser?w("AsriTopbarRightSpacing"):w("AsriTopbarRightSpacing",i.asriDoms.barSearch);const e=document.createElementNS("http://www.w3.org/2000/svg","svg");null==c||c.appendChild(e.cloneNode(!0)),null==s||s.appendChild(e.cloneNode(!0)),null==l||l.appendChild(e.cloneNode(!0))}()}))},t.unloadTopbarFusion=function(){return r(this,void 0,void 0,(function*(){var e,t;!function(){s&&(s.remove(),s=void 0);l&&(l.remove(),l=void 0);c&&(c.remove(),c=void 0)}(),yield(0,a.updateWndEls)(),null===a.wndElements||void 0===a.wndElements||a.wndElements.forEach((e=>{let t=e.firstElementChild;t.style.removeProperty("padding-top"),t.style.removeProperty("padding-left"),t.style.removeProperty("padding-right")})),i.asriDoms.layoutCenter.dataset.prevWidth=void 0,document.body.dataset.prevWidth=void 0,null===(e=i.asriDoms.dockR)||void 0===e||e.style.removeProperty("--avoid-topbar"),null===(t=i.asriDoms.layoutDockR)||void 0===t||t.style.removeProperty("--avoid-topbar")}))},t.recalcDragInitials=function(){return r(this,void 0,void 0,(function*(){l&&c&&(l.style.setProperty("width","0px"),c.style.setProperty("width","0px"),yield y("initials"),l.style.removeProperty("width"),c.style.removeProperty("width"))}))};const o=n(629),i=n(49),a=n(216);let s,l,c,u,d,f,h,m,v,p,b=i.asriDoms.toolbar,g=!1;function y(){return r(this,arguments,void 0,(function*(e="rect",...t){const n=i.asriDoms.drag||(yield(0,o.querySelectorPromise)("#drag"));return!n||i.environment.isMiniWindow?-1:new Promise((r=>{"initials"===e?(t.length&&!t.includes("L")||(v=n.getBoundingClientRect().left,r(v)),t.length&&!t.includes("R")||(p=n.getBoundingClientRect().right,r(p))):(d=n.getBoundingClientRect(),r(d))}))}))}function w(e,t=void 0,n=void 0){if(document.getElementById(e))return;if(!i.asriDoms.toolbar)return;let r=document.createElement("div");return r.id=e,t?i.asriDoms.toolbar.insertBefore(r,t):n?i.asriDoms.toolbar.insertBefore(r,n.nextSibling):i.asriDoms.toolbar.appendChild(r),r}},130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyTrafficLightPosition=function(){o.environment.isMacOS&&(o.environment.isInBrowser||i(16),o.environment.isMiniWindow&&i(14))},t.restoreTrafficLightPosition=function(){o.environment.isMacOS&&(o.environment.isInBrowser||i(8),o.environment.isMiniWindow&&i(8,13))};const r=n(571),o=n(49);function i(e,t=e){r.remote&&r.remote.getCurrentWindow().setWindowButtonPosition({x:e,y:t})}},613:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFile=function(e){return n(this,void 0,void 0,(function*(){const t=yield fetch("/api/file/getFile",{method:"POST",headers:{Authorization:"Token ''"},body:JSON.stringify({path:e})});return t.ok?t:null}))},t.putFile=function(e,t){return n(this,arguments,void 0,(function*(e,t,n=!1,r=Date.now()){let o=new Blob([t]),i=e.split("/").pop(),a=new File([o],i),s=new FormData;s.append("path",e),s.append("file",a),s.append("isDir",String(n)),s.append("modTime",String(r));const l=yield fetch("/api/file/putFile",{body:s,method:"POST",headers:{Authorization:"Token ''"}});return l.ok?yield l.json():null}))}},571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remote=void 0;const r=n(49);t.remote=r.environment.isInBrowser||r.environment.isMobile?null:n(21)},796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsriEventListener=void 0;t.AsriEventListener=class{constructor(e){this.callback=e}start(e,t,n){e.addEventListener(t,this.callback,n)}remove(e,t,n){e.removeEventListener(t,this.callback,n)}}},629:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function r(e,t){let n=!1;return e&&t&&(n=e.right>t.left&&e.bottom>t.top&&e.left<t.left+t.width&&e.top<t.top+t.height),n}Object.defineProperty(t,"__esModule",{value:!0}),t.pushUnique=function(e,t){e.includes(t)||e.push(t)},t.debounce=function(e,t=200){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout((()=>{e(...r),n=null}),t)}},t.hexToHSL=function(e){if(!e)return;const t=parseInt(e.substring(1,3),16)/255,n=parseInt(e.substring(3,5),16)/255,r=parseInt(e.substring(5,7),16)/255,o=Math.max(t,n,r),i=Math.min(t,n,r),a=(o+i)/2;if(o===i)return{h:0,s:0,l:a};let s=0;const l=o-i,c=a>.5?l/(2-o-i):l/(o+i);switch(o){case t:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-t)/l+2;break;case r:s=(t-n)/l+4}return s/=6,{h:s,s:c,l:a}},t.modeTransition=function(){document.body.classList.add("asri-mode-transition"),setTimeout((()=>{document.body.classList.remove("asri-mode-transition")}),350)},t.isOverlapping=function(e,t){if(!e||!t)return!1;let n,o;n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return r(n,o)},t.isOverlappingPromise=function(e,t){return n(this,void 0,void 0,(function*(){return!(!e||!t)&&new Promise((n=>{let o,i;o=e.getBoundingClientRect(),i=t.getBoundingClientRect();n(r(o,i))}))}))},t.nodeListsHaveSameElements=function(e,t){if(!e.length||!t.length)return!1;const n=new Set(e),r=new Set(t);if(n.size!==r.size)return!1;for(const e of n)if(!r.has(e))return!1;return!0},t.querySelectorPromise=function(e){return n(this,arguments,void 0,(function*(e,t=10,n=200){let r=0;for(;r<t;){const t=document.querySelector(e);if(t)return t;yield new Promise((e=>setTimeout(e,n))),r++}}))},t.querySelectorAllPromise=function(e){return n(this,arguments,void 0,(function*(e,t=10,n=200){let r=0;for(;r<t;){const t=document.querySelectorAll(e);if(t.length>0)return t;yield new Promise((e=>setTimeout(e,n))),r++}}))}},766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MOConfigForClassNames=t.AsriMutationObserver=t.AsriResizeObserver=void 0;t.AsriResizeObserver=class{constructor(e){this.callback=(t,n)=>e(t,n),this.ro=new ResizeObserver(this.callback)}observe(e,t){this.ro.observe(e,t)}disconnect(e){this.ro.disconnect(),e&&e()}unobserve(e){this.ro.unobserve(e)}};t.AsriMutationObserver=class{constructor(e){this.callback=(t,n)=>e(t,n),this.mo=new MutationObserver(this.callback)}observe(e,t){this.mo.observe(e,t)}disconnect(e){this.mo.disconnect(),e&&e()}},t.MOConfigForClassNames={attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0}},49:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment=t.asriDoms=void 0;const n=navigator.userAgent;let r=null,o=null,i=null,a=null,s=null,l=null,c=null,u=null,d=null,f=null,h=null,m=null,v=null,p=null,b=null,g=null,y=null,w=null;t.asriDoms={get layouts(){return null!=r?r:r=document.getElementById("layouts")},get layoutCenter(){return null!=o?o:o=document.querySelector(".layout__center")},get toolbar(){return null!=i?i:i=document.getElementById("toolbar")},get dockL(){return null!=a?a:a=document.getElementById("dockLeft")},get dockR(){return null!=s?s:s=document.getElementById("dockRight")},get dockB(){return null!=l?l:l=document.getElementById("dockBottom")},get status(){return null!=c?c:c=document.getElementById("status")},get layoutDockL(){return null!=u?u:u=document.querySelector(".layout__dockl")},get layoutDockR(){return null!=d?d:d=document.querySelector(".layout__dockr")},get layoutDockB(){return null!=f?f:f=document.querySelector(".layout__dockb")},get barSync(){return null!=h?h:h=document.getElementById("barSync")},get barForward(){return null!=m?m:m=document.getElementById("barForward")},get toolbarVIP(){return null!=v?v:v=document.getElementById("toolbarVIP")},get drag(){return null!=p?p:p=document.getElementById("drag")},get barPlugins(){return null!=b?b:b=document.getElementById("barPlugins")},get barSearch(){return null!=g?g:g=document.getElementById("barSearch")},get barMode(){return null!=y?y:y=document.getElementById("barMode")},get barMore(){return null!=w?w:w=document.getElementById("barMore")}},t.environment={isMacOS:navigator.platform.indexOf("Mac")>-1,isLinux:navigator.platform.indexOf("Linux")>-1,isAndroid:/Android/.test(n),isMobile:!!document.getElementById("sidebar"),isInBrowser:!n.startsWith("SiYuan")||n.indexOf("iPad")>-1||/Android/.test(n)&&!/(?:Mobile)/.test(n),isMiniWindow:document.body.classList.contains("body--window"),isIOSApp:(/iOS/i.test(n)||/iPad/i.test(n))&&/AppleWebKit/i.test(n)&&n.startsWith("SiYuan/"),lang:window.siyuan.config.lang,supportOklch:CSS.supports("color","oklch(from red calc(l * 0.5) 0 h)"),isReadOnly:window.siyuan.config.readonly,appSchemeMode:window.siyuan.config.appearance.mode>0?"dark":"light"}},216:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.wndElements=t.debouncedUpdateTopbarOverflow=t.doesTopBarOverflow=void 0,t.updateTopbarOverflow=s,t.isDockLytPinned=function(e){const t="B"===e?a.asriDoms.layoutDockB:"L"===e?a.asriDoms.layoutDockL:a.asriDoms.layoutDockR;return!(!t||t.classList.contains("layout--float"))},t.isDockLytExpanded=function(e){const t="B"===e?a.asriDoms.layoutDockB:"L"===e?a.asriDoms.layoutDockL:a.asriDoms.layoutDockR;let n;if(!t)return!1;n="B"===e?t.style.height:t.style.width;return!(!n||"0px"===n)},t.isDockHidden=function(e="L"){const t="B"===e?a.asriDoms.dockB:"L"===e?a.asriDoms.dockL:a.asriDoms.dockR;return!(!t||!t.classList.contains("fn__none"))},t.hasDockb=function(){return r(this,void 0,void 0,(function*(){return a.asriDoms.dockB||(yield(0,i.querySelectorPromise)(".layout__dockb")),!(!a.asriDoms.dockB||a.asriDoms.dockB.classList.contains("fn__none"))}))},t.isFullScreen=function(){return!(!o.remote||!o.remote.getCurrentWindow().isFullScreen())},t.isStatusHidden=function(){return!(!a.asriDoms.status||!a.asriDoms.status.classList.contains("fn__none"))},t.updateWndEls=function(){return r(this,void 0,void 0,(function*(){return yield(0,i.querySelectorAllPromise)('.layout__center [data-type="wnd"]').then((e=>{t.wndElements=e})),t.wndElements}))};const o=n(571),i=n(629),a=n(49);function s(){var e,n;a.asriDoms.toolbar&&(t.doesTopBarOverflow=(null===(e=a.asriDoms.toolbar)||void 0===e?void 0:e.scrollWidth)>a.asriDoms.toolbar.clientWidth,(null===(n=a.asriDoms.barMore)||void 0===n?void 0:n.classList.contains("fn__none"))||(t.doesTopBarOverflow=!0))}t.doesTopBarOverflow=!1,t.debouncedUpdateTopbarOverflow=(0,i.debounce)(s),t.wndElements=document.querySelectorAll('.layout__center [data-type="wnd"]')},21:e=>{"use strict";e.exports=require("@electron/remote")},428:function(e){e.exports=function(){"use strict";function e(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),u(d(t,e),n)}function t(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t}for(var n={},r=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<o.length;r+=1){var i=o[r];n["[object "+i+"]"]=i.toLowerCase()}function a(e){return n[Object.prototype.toString.call(e)]||"object"}function s(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==a(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]}function l(e){if(e.length<2)return null;var t=e.length-1;return"string"==a(e[t])?e[t].toLowerCase():null}var c=Math.PI,u=Math.min,d=Math.max,f=2*c,h=c/3,m=c/180,v=180/c,p={format:{},autodetect:[]},b=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this;if("object"===a(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var o=l(e),i=!1;if(!o){i=!0,p.sorted||(p.autodetect=p.autodetect.sort((function(e,t){return t.p-e.p})),p.sorted=!0);for(var s=0,c=p.autodetect;s<c.length;s+=1){var u=c[s];if(o=u.test.apply(u,e))break}}if(!p.format[o])throw new Error("unknown format: "+e);var d=p.format[o].apply(null,i?e:e.slice(0,-1));r._rgb=t(d),3===r._rgb.length&&r._rgb.push(1)};b.prototype.toString=function(){return"function"==a(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var g="2.6.0",y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(y.Color,[null].concat(e)))};y.Color=b,y.version=g;var w=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=s(e,"cmyk"))[0],r=e[1],o=e[2],i=e[3],a=e.length>4?e[4]:1;return 1===i?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),o>=1?0:255*(1-o)*(1-i),a]},k=Math.max,_=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgb"),r=n[0],o=n[1],i=n[2],a=1-k(r/=255,k(o/=255,i/=255)),l=a<1?1/(1-a):0;return[(1-r-a)*l,(1-o-a)*l,(1-i-a)*l,a]};b.prototype.cmyk=function(){return _(this._rgb)},y.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["cmyk"])))},p.format.cmyk=w,p.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"cmyk"))&&4===e.length)return"cmyk"}});var S=function(e){return Math.round(100*e)/100},P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"hsla"),r=l(e)||"lsa";return n[0]=S(n[0]||0),n[1]=S(100*n[1])+"%",n[2]=S(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,o=(e=s(e,"rgba"))[0],i=e[1],a=e[2],l=u(o/=255,i/=255,a/=255),c=d(o,i,a),f=(c+l)/2;return c===l?(n=0,r=Number.NaN):n=f<.5?(c-l)/(c+l):(c-l)/(2-c-l),o==c?r=(i-a)/(c-l):i==c?r=2+(a-o)/(c-l):a==c&&(r=4+(o-i)/(c-l)),(r*=60)<0&&(r+=360),e.length>3&&void 0!==e[3]?[r,n,f,e[3]]:[r,n,f]},C=Math.round,E=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgba"),r=l(e)||"rgb";return"hsl"==r.substr(0,3)?P(M(n),r):(n[0]=C(n[0]),n[1]=C(n[1]),n[2]=C(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},x=Math.round,D=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,o,i,a=(t=s(t,"hsl"))[0],l=t[1],c=t[2];if(0===l)r=o=i=255*c;else{var u=[0,0,0],d=[0,0,0],f=c<.5?c*(1+l):c+l-c*l,h=2*c-f,m=a/360;u[0]=m+1/3,u[1]=m,u[2]=m-1/3;for(var v=0;v<3;v++)u[v]<0&&(u[v]+=1),u[v]>1&&(u[v]-=1),6*u[v]<1?d[v]=h+6*(f-h)*u[v]:2*u[v]<1?d[v]=f:3*u[v]<2?d[v]=h+(f-h)*(2/3-u[v])*6:d[v]=h;r=(e=[x(255*d[0]),x(255*d[1]),x(255*d[2])])[0],o=e[1],i=e[2]}return t.length>3?[r,o,i,t[3]]:[r,o,i,1]},L=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,A=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,B=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,O=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,N=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,R=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,I=Math.round,F=function(e){var t;if(e=e.toLowerCase().trim(),p.format.named)try{return p.format.named(e)}catch(e){}if(t=e.match(L)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(A)){for(var o=t.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(t=e.match(B)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=I(2.55*a[s]);return a[3]=1,a}if(t=e.match(O)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=I(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(N)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=D(u);return d[3]=1,d}if(t=e.match(R)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var h=D(f);return h[3]=+t[4],h}};F.test=function(e){return L.test(e)||A.test(e)||B.test(e)||O.test(e)||N.test(e)||R.test(e)},b.prototype.css=function(e){return E(this._rgb,e)},y.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["css"])))},p.format.css=F,p.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===a(e)&&F.test(e))return"css"}}),p.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},y.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["gl"])))},b.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var q=Math.floor,T=function(){for(var e,t,n,r,o,i,a=[],l=arguments.length;l--;)a[l]=arguments[l];var c,u,d,f=(a=s(a,"hcg"))[0],h=a[1],m=a[2];m*=255;var v=255*h;if(0===h)c=u=d=m;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var p=q(f/=60),b=f-p,g=m*(1-h),y=g+v*(1-b),w=g+v*b,k=g+v;switch(p){case 0:c=(e=[k,w,g])[0],u=e[1],d=e[2];break;case 1:c=(t=[y,k,g])[0],u=t[1],d=t[2];break;case 2:c=(n=[g,k,w])[0],u=n[1],d=n[2];break;case 3:c=(r=[g,y,k])[0],u=r[1],d=r[2];break;case 4:c=(o=[w,g,k])[0],u=o[1],d=o[2];break;case 5:c=(i=[k,g,y])[0],u=i[1],d=i[2]}}return[c,u,d,a.length>3?a[3]:1]},W=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=s(e,"rgb"),o=r[0],i=r[1],a=r[2],l=u(o,i,a),c=d(o,i,a),f=c-l,h=100*f/255,m=l/(255-f)*100;return 0===f?n=Number.NaN:(o===c&&(n=(i-a)/f),i===c&&(n=2+(a-o)/f),a===c&&(n=4+(o-i)/f),(n*=60)<0&&(n+=360)),[n,h,m]};b.prototype.hcg=function(){return W(this._rgb)},y.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["hcg"])))},p.format.hcg=T,p.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"hcg"))&&3===e.length)return"hcg"}});var j=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,z=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,G=function(e){if(e.match(j)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(z)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},$=Math.round,H=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgba"),r=n[0],o=n[1],i=n[2],a=n[3],c=l(e)||"auto";void 0===a&&(a=1),"auto"===c&&(c=a<1?"rgba":"rgb");var u="000000"+((r=$(r))<<16|(o=$(o))<<8|(i=$(i))).toString(16);u=u.substr(u.length-6);var d="0"+$(255*a).toString(16);switch(d=d.substr(d.length-2),c.toLowerCase()){case"rgba":return"#"+u+d;case"argb":return"#"+d+u;default:return"#"+u}};b.prototype.hex=function(e){return H(this._rgb,e)},y.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["hex"])))},p.format.hex=G,p.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===a(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Y=Math.cos,V=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,o,i,a=(t=s(t,"hsi"))[0],l=t[1],c=t[2];return isNaN(a)&&(a=0),isNaN(l)&&(l=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?o=1-((i=(1-l)/3)+(r=(1+l*Y(f*a)/Y(h-f*a))/3)):a<2/3?i=1-((r=(1-l)/3)+(o=(1+l*Y(f*(a-=1/3))/Y(h-f*a))/3)):r=1-((o=(1-l)/3)+(i=(1+l*Y(f*(a-=2/3))/Y(h-f*a))/3)),[255*(r=e(c*r*3)),255*(o=e(c*o*3)),255*(i=e(c*i*3)),t.length>3?t[3]:1]},U=Math.min,J=Math.sqrt,X=Math.acos,K=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=s(e,"rgb"),o=r[0],i=r[1],a=r[2],l=U(o/=255,i/=255,a/=255),c=(o+i+a)/3,u=c>0?1-l/c:0;return 0===u?n=NaN:(n=(o-i+(o-a))/2,n/=J((o-i)*(o-i)+(o-a)*(i-a)),n=X(n),a>i&&(n=f-n),n/=f),[360*n,u,c]};b.prototype.hsi=function(){return K(this._rgb)},y.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["hsi"])))},p.format.hsi=V,p.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"hsi"))&&3===e.length)return"hsi"}}),b.prototype.hsl=function(){return M(this._rgb)},y.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["hsl"])))},p.format.hsl=D,p.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"hsl"))&&3===e.length)return"hsl"}});var Z=Math.floor,Q=function(){for(var e,t,n,r,o,i,a=[],l=arguments.length;l--;)a[l]=arguments[l];var c,u,d,f=(a=s(a,"hsv"))[0],h=a[1],m=a[2];if(m*=255,0===h)c=u=d=m;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var v=Z(f/=60),p=f-v,b=m*(1-h),g=m*(1-h*p),y=m*(1-h*(1-p));switch(v){case 0:c=(e=[m,y,b])[0],u=e[1],d=e[2];break;case 1:c=(t=[g,m,b])[0],u=t[1],d=t[2];break;case 2:c=(n=[b,m,y])[0],u=n[1],d=n[2];break;case 3:c=(r=[b,g,m])[0],u=r[1],d=r[2];break;case 4:c=(o=[y,b,m])[0],u=o[1],d=o[2];break;case 5:c=(i=[m,b,g])[0],u=i[1],d=i[2]}}return[c,u,d,a.length>3?a[3]:1]},ee=Math.min,te=Math.max,ne=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,o,i=(e=s(e,"rgb"))[0],a=e[1],l=e[2],c=ee(i,a,l),u=te(i,a,l),d=u-c;return o=u/255,0===u?(n=Number.NaN,r=0):(r=d/u,i===u&&(n=(a-l)/d),a===u&&(n=2+(l-i)/d),l===u&&(n=4+(i-a)/d),(n*=60)<0&&(n+=360)),[n,r,o]};b.prototype.hsv=function(){return ne(this._rgb)},y.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["hsv"])))},p.format.hsv=Q,p.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"hsv"))&&3===e.length)return"hsv"}});var re={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},oe=Math.pow,ie=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,o,i=(e=s(e,"lab"))[0],a=e[1],l=e[2];return r=(i+16)/116,n=isNaN(a)?r:r+a/500,o=isNaN(l)?r:r-l/200,r=re.Yn*se(r),n=re.Xn*se(n),o=re.Zn*se(o),[ae(3.2404542*n-1.5371385*r-.4985314*o),ae(-.969266*n+1.8760108*r+.041556*o),ae(.0556434*n-.2040259*r+1.0572252*o),e.length>3?e[3]:1]},ae=function(e){return 255*(e<=.00304?12.92*e:1.055*oe(e,1/2.4)-.055)},se=function(e){return e>re.t1?e*e*e:re.t2*(e-re.t0)},le=Math.pow,ce=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgb"),r=n[0],o=n[1],i=n[2],a=fe(r,o,i),l=a[0],c=a[1],u=116*c-16;return[u<0?0:u,500*(l-c),200*(c-a[2])]},ue=function(e){return(e/=255)<=.04045?e/12.92:le((e+.055)/1.055,2.4)},de=function(e){return e>re.t3?le(e,1/3):e/re.t2+re.t0},fe=function(e,t,n){return e=ue(e),t=ue(t),n=ue(n),[de((.4124564*e+.3575761*t+.1804375*n)/re.Xn),de((.2126729*e+.7151522*t+.072175*n)/re.Yn),de((.0193339*e+.119192*t+.9503041*n)/re.Zn)]};b.prototype.lab=function(){return ce(this._rgb)},y.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["lab"])))},p.format.lab=ie,p.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"lab"))&&3===e.length)return"lab"}});var he=Math.sin,me=Math.cos,ve=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"lch"),r=n[0],o=n[1],i=n[2];return isNaN(i)&&(i=0),[r,me(i*=m)*o,he(i)*o]},pe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=s(e,"lch"))[0],r=e[1],o=e[2],i=ve(n,r,o),a=i[0],l=i[1],c=i[2],u=ie(a,l,c);return[u[0],u[1],u[2],e.length>3?e[3]:1]},be=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"hcl").reverse();return pe.apply(void 0,n)},ge=Math.sqrt,ye=Math.atan2,we=Math.round,ke=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"lab"),r=n[0],o=n[1],i=n[2],a=ge(o*o+i*i),l=(ye(i,o)*v+360)%360;return 0===we(1e4*a)&&(l=Number.NaN),[r,a,l]},_e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgb"),r=n[0],o=n[1],i=n[2],a=ce(r,o,i),l=a[0],c=a[1],u=a[2];return ke(l,c,u)};b.prototype.lch=function(){return _e(this._rgb)},b.prototype.hcl=function(){return _e(this._rgb).reverse()},y.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["lch"])))},y.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["hcl"])))},p.format.lch=pe,p.format.hcl=be,["lch","hcl"].forEach((function(e){return p.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===a(t=s(t,e))&&3===t.length)return e}})}));var Se={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};b.prototype.name=function(){for(var e=H(this._rgb,"rgb"),t=0,n=Object.keys(Se);t<n.length;t+=1){var r=n[t];if(Se[r]===e)return r.toLowerCase()}return e},p.format.named=function(e){if(e=e.toLowerCase(),Se[e])return G(Se[e]);throw new Error("unknown color name: "+e)},p.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===a(e)&&Se[e.toLowerCase()])return"named"}});var Pe=function(e){if("number"==a(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Me=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]};b.prototype.num=function(){return Me(this._rgb)},y.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["num"])))},p.format.num=Pe,p.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===a(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Ce=Math.round;b.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ce)},b.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:Ce(t):t}))},y.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["rgb"])))},p.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgba");return void 0===n[3]&&(n[3]=1),n},p.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"rgba"))&&(3===e.length||4===e.length&&"number"==a(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Ee=Math.log,xe=function(e){var t,n,r,o=e/100;return o<66?(t=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Ee(n),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*Ee(r)):(t=351.97690566805693+.114206453784165*(t=o-55)-40.25366309332127*Ee(t),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Ee(n),r=255),[t,n,r,1]},De=Math.round,Le=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=s(e,"rgb"),o=r[0],i=r[2],a=1e3,l=4e4,c=.4;l-a>c;){var u=xe(n=.5*(l+a));u[2]/u[0]>=i/o?l=n:a=n}return De(n)};b.prototype.temp=b.prototype.kelvin=b.prototype.temperature=function(){return Le(this._rgb)},y.temp=y.kelvin=y.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["temp"])))},p.format.temp=p.format.kelvin=p.format.temperature=xe;var Ae=Math.pow,Be=Math.sign,Oe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=s(e,"lab"))[0],r=e[1],o=e[2],i=Ae(n+.3963377774*r+.2158037573*o,3),a=Ae(n-.1055613458*r-.0638541728*o,3),l=Ae(n-.0894841775*r-1.291485548*o,3);return[255*Ne(4.0767416621*i-3.3077115913*a+.2309699292*l),255*Ne(-1.2684380046*i+2.6097574011*a-.3413193965*l),255*Ne(-.0041960863*i-.7034186147*a+1.707614701*l),e.length>3?e[3]:1]};function Ne(e){var t=Math.abs(e);return t>.0031308?(Be(e)||1)*(1.055*Ae(t,1/2.4)-.055):12.92*e}var Re=Math.cbrt,Ie=Math.pow,Fe=Math.sign,qe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgb"),r=n[0],o=n[1],i=n[2],a=[Te(r/255),Te(o/255),Te(i/255)],l=a[0],c=a[1],u=a[2],d=Re(.4122214708*l+.5363325363*c+.0514459929*u),f=Re(.2119034982*l+.6806995451*c+.1073969566*u),h=Re(.0883024619*l+.2817188376*c+.6299787005*u);return[.2104542553*d+.793617785*f-.0040720468*h,1.9779984951*d-2.428592205*f+.4505937099*h,.0259040371*d+.7827717662*f-.808675766*h]};function Te(e){var t=Math.abs(e);return t<.04045?e/12.92:(Fe(e)||1)*Ie((t+.055)/1.055,2.4)}b.prototype.oklab=function(){return qe(this._rgb)},y.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["oklab"])))},p.format.oklab=Oe,p.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"oklab"))&&3===e.length)return"oklab"}});var We=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=s(e,"lch"))[0],r=e[1],o=e[2],i=ve(n,r,o),a=i[0],l=i[1],c=i[2],u=Oe(a,l,c);return[u[0],u[1],u[2],e.length>3?e[3]:1]},je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s(e,"rgb"),r=n[0],o=n[1],i=n[2],a=qe(r,o,i),l=a[0],c=a[1],u=a[2];return ke(l,c,u)};b.prototype.oklch=function(){return je(this._rgb)},y.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(b,[null].concat(e,["oklch"])))},p.format.oklch=We,p.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===a(e=s(e,"oklch"))&&3===e.length)return"oklch"}}),b.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===a(e)?t?(this._rgb[3]=e,this):new b([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},b.prototype.clipped=function(){return this._rgb._clipped||!1},b.prototype.darken=function(e){void 0===e&&(e=1);var t=this,n=t.lab();return n[0]-=re.Kn*e,new b(n,"lab").alpha(t.alpha(),!0)},b.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},b.prototype.darker=b.prototype.darken,b.prototype.brighter=b.prototype.brighten,b.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],o=this[n]();if(r){var i=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(i>-1)return o[i];throw new Error("unknown channel "+r+" in mode "+n)}return o};var ze=Math.pow,Ge=1e-7,$e=20;b.prototype.luminance=function(e,t){if(void 0===t&&(t="rgb"),void 0!==e&&"number"===a(e)){if(0===e)return new b([0,0,0,this._rgb[3]],"rgb");if(1===e)return new b([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),r=$e,o=function(n,i){var a=n.interpolate(i,.5,t),s=a.luminance();return Math.abs(e-s)<Ge||!r--?a:s>e?o(n,a):o(a,i)},i=(n>e?o(new b([0,0,0]),this):o(this,new b([255,255,255]))).rgb();return new b(i.concat([this._rgb[3]]))}return He.apply(void 0,this._rgb.slice(0,3))};var He=function(e,t,n){return.2126*(e=Ye(e))+.7152*(t=Ye(t))+.0722*(n=Ye(n))},Ye=function(e){return(e/=255)<=.03928?e/12.92:ze((e+.055)/1.055,2.4)},Ve={};function Ue(e,t,n){void 0===n&&(n=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=r[0]||"lrgb";if(Ve[i]||r.length||(i=Object.keys(Ve)[0]),!Ve[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==a(e)&&(e=new b(e)),"object"!==a(t)&&(t=new b(t)),Ve[i](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))}b.prototype.mix=b.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ue.apply(void 0,[this,e,t].concat(n))},b.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new b([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},b.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,n=t.lch();return n[1]+=re.Kn*e,n[1]<0&&(n[1]=0),new b(n,"lch").alpha(t.alpha(),!0)},b.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)},b.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),o=r[0],i=r[1],s=this[o]();if(i){var l=o.indexOf(i)-("ok"===o.substr(0,2)?2:0);if(l>-1){if("string"==a(t))switch(t.charAt(0)){case"+":case"-":s[l]+=+t;break;case"*":s[l]*=+t.substr(1);break;case"/":s[l]/=+t.substr(1);break;default:s[l]=+t}else{if("number"!==a(t))throw new Error("unsupported value for Color.set");s[l]=t}var c=new b(s,o);return n?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+i+" in mode "+o)}return s},b.prototype.tint=function(e){void 0===e&&(e=.5);for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ue.apply(void 0,[this,"white",e].concat(t))},b.prototype.shade=function(e){void 0===e&&(e=.5);for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ue.apply(void 0,[this,"black",e].concat(t))};var Je=function(e,t,n){var r=e._rgb,o=t._rgb;return new b(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};Ve.rgb=Je;var Xe=Math.sqrt,Ke=Math.pow,Ze=function(e,t,n){var r=e._rgb,o=r[0],i=r[1],a=r[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new b(Xe(Ke(o,2)*(1-n)+Ke(l,2)*n),Xe(Ke(i,2)*(1-n)+Ke(c,2)*n),Xe(Ke(a,2)*(1-n)+Ke(u,2)*n),"rgb")};Ve.lrgb=Ze;var Qe=function(e,t,n){var r=e.lab(),o=t.lab();return new b(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};function et(e,t,n,r){var o,i,a,s,l,c,u,d,f,h,m,v,p;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=e.hcl(),s=t.hcl()):"oklch"===r&&(a=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(o=a)[0],u=o[1],f=o[2],c=(i=s)[0],d=i[1],h=i[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?v=Number.NaN:(v=c,1!=f&&0!=f||"hsv"==r||(m=d)):(v=l,1!=h&&0!=h||"hsv"==r||(m=u)):v=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===m&&(m=u+n*(d-u)),p=f+n*(h-f),new b("oklch"===r?[p,m,v]:[v,m,p],r)}Ve.lab=Qe;var tt=function(e,t,n){return et(e,t,n,"lch")};Ve.lch=tt,Ve.hcl=tt;var nt=function(e,t,n){var r=e.num(),o=t.num();return new b(r+n*(o-r),"num")};Ve.num=nt;var rt=function(e,t,n){return et(e,t,n,"hcg")};Ve.hcg=rt;var ot=function(e,t,n){return et(e,t,n,"hsi")};Ve.hsi=ot;var it=function(e,t,n){return et(e,t,n,"hsl")};Ve.hsl=it;var at=function(e,t,n){return et(e,t,n,"hsv")};Ve.hsv=at;var st=function(e,t,n){var r=e.oklab(),o=t.oklab();return new b(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};Ve.oklab=st;var lt=function(e,t,n){return et(e,t,n,"oklch")};Ve.oklch=lt;var ct=Math.pow,ut=Math.sqrt,dt=Math.PI,ft=Math.cos,ht=Math.sin,mt=Math.atan2;function vt(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var o=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=o})),e=e.map((function(e){return new b(e)})),"lrgb"===t)return pt(e,n);for(var i=e.shift(),a=i.get(t),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===t.charAt(u)&&!isNaN(a[u])){var d=a[u]/180*dt;l+=ft(d)*n[0],c+=ht(d)*n[0]}var f=i.alpha()*n[0];e.forEach((function(e,r){var o=e.get(t);f+=e.alpha()*n[r+1];for(var i=0;i<a.length;i++)if(!isNaN(o[i]))if(s[i]+=n[r+1],"h"===t.charAt(i)){var u=o[i]/180*dt;l+=ft(u)*n[r+1],c+=ht(u)*n[r+1]}else a[i]+=o[i]*n[r+1]}));for(var h=0;h<a.length;h++)if("h"===t.charAt(h)){for(var m=mt(c/s[h],l/s[h])/dt*180;m<0;)m+=360;for(;m>=360;)m-=360;a[h]=m}else a[h]=a[h]/s[h];return f/=r,new b(a,t).alpha(f>.99999?1:f,!0)}var pt=function(e,n){for(var r=e.length,o=[0,0,0,0],i=0;i<e.length;i++){var a=e[i],s=n[i]/r,l=a._rgb;o[0]+=ct(l[0],2)*s,o[1]+=ct(l[1],2)*s,o[2]+=ct(l[2],2)*s,o[3]+=l[3]*s}return o[0]=ut(o[0]),o[1]=ut(o[1]),o[2]=ut(o[2]),o[3]>.9999999&&(o[3]=1),new b(t(o))},bt=Math.pow;function gt(t){var n="rgb",r=y("#ccc"),o=0,i=[0,1],s=[],l=[0,0],c=!1,u=[],d=!1,f=0,h=1,m=!1,v={},p=!0,b=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===a(e)&&y.brewer&&y.brewer[e.toLowerCase()]&&(e=y.brewer[e.toLowerCase()]),"array"===a(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=y(e[t]);s.length=0;for(var n=0;n<e.length;n++)s.push(n/(e.length-1))}return P(),u=e},w=function(e){if(null!=c){for(var t=c.length-1,n=0;n<t&&e>=c[n];)n++;return n-1}return 0},k=function(e){return e},_=function(e){return e},S=function(t,o){var i,d;if(null==o&&(o=!1),isNaN(t)||null===t)return r;d=o?t:c&&c.length>2?w(t)/(c.length-2):h!==f?(t-f)/(h-f):1,d=_(d),o||(d=k(d)),1!==b&&(d=bt(d,b)),d=e(d=l[0]+d*(1-l[0]-l[1]),0,1);var m=Math.floor(1e4*d);if(p&&v[m])i=v[m];else{if("array"===a(u))for(var g=0;g<s.length;g++){var S=s[g];if(d<=S){i=u[g];break}if(d>=S&&g===s.length-1){i=u[g];break}if(d>S&&d<s[g+1]){d=(d-S)/(s[g+1]-S),i=y.interpolate(u[g],u[g+1],d,n);break}}else"function"===a(u)&&(i=u(d));p&&(v[m]=i)}return i},P=function(){return v={}};g(t);var M=function(e){var t=y(S(e));return d&&t[d]?t[d]():t};return M.classes=function(e){if(null!=e){if("array"===a(e))c=e,i=[e[0],e[e.length-1]];else{var t=y.analyze(i);c=0===e?[t.min,t.max]:y.limits(t,"e",e)}return M}return c},M.domain=function(e){if(!arguments.length)return i;f=e[0],h=e[e.length-1],s=[];var t=u.length;if(e.length===t&&f!==h)for(var n=0,r=Array.from(e);n<r.length;n+=1){var o=r[n];s.push((o-f)/(h-f))}else{for(var a=0;a<t;a++)s.push(a/(t-1));if(e.length>2){var l=e.map((function(t,n){return n/(e.length-1)})),c=e.map((function(e){return(e-f)/(h-f)}));c.every((function(e,t){return l[t]===e}))||(_=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=c[t+1];)t++;var n=(e-c[t])/(c[t+1]-c[t]);return l[t]+n*(l[t+1]-l[t])})}}return i=[f,h],M},M.mode=function(e){return arguments.length?(n=e,P(),M):n},M.range=function(e,t){return g(e),M},M.out=function(e){return d=e,M},M.spread=function(e){return arguments.length?(o=e,M):o},M.correctLightness=function(e){return null==e&&(e=!0),m=e,P(),k=m?function(e){for(var t=S(0,!0).lab()[0],n=S(1,!0).lab()[0],r=t>n,o=S(e,!0).lab()[0],i=t+(n-t)*e,a=o-i,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),o=S(e,!0).lab()[0],a=o-i;return e}:function(e){return e},M},M.padding=function(e){return null!=e?("number"===a(e)&&(e=[e,e]),l=e,M):l},M.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===e)r=[M(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=yt(0,e).map((function(t){return M(o+t/(e-1)*a)}))}else{t=[];var s=[];if(c&&c.length>2)for(var l=1,d=c.length,f=1<=d;f?l<d:l>d;f?l++:l--)s.push(.5*(c[l-1]+c[l]));else s=i;r=s.map((function(e){return M(e)}))}return y[n]&&(r=r.map((function(e){return e[n]()}))),r},M.cache=function(e){return null!=e?(p=e,M):p},M.gamma=function(e){return null!=e?(b=e,M):b},M.nodata=function(e){return null!=e?(r=y(e),M):r},M}function yt(e,t,n){for(var r=[],o=e<t,i=t,a=e;o?a<i:a>i;o?a++:a--)r.push(a);return r}var wt=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],o=1;o<=t.length;o++)r[o]=(t[o]||0)+t[o-1];t=r}return t},kt=function(e){var t,n,r,o,i,a,s;if(2===(e=e.map((function(e){return new b(e)}))).length)t=e.map((function(e){return e.lab()})),i=t[0],a=t[1],o=function(e){var t=[0,1,2].map((function(t){return i[t]+e*(a[t]-i[t])}));return new b(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),i=n[0],a=n[1],s=n[2],o=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*i[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new b(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),i=r[0],a=r[1],s=r[2],l=r[3],o=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new b(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,d;c=e.map((function(e){return e.lab()})),d=e.length-1,u=wt(d),o=function(e){var t=1-e,n=[0,1,2].map((function(n){return c.reduce((function(r,o,i){return r+u[i]*Math.pow(t,d-i)*Math.pow(e,i)*o[n]}),0)}));return new b(n,"lab")}}return o};function _t(e){var t=kt(e);return t.scale=function(){return gt(t)},t}var St=function(e,t,n){if(!St[n])throw new Error("unknown blend mode "+n);return St[n](e,t)},Pt=function(e){return function(t,n){var r=y(n).rgb(),o=y(t).rgb();return y.rgb(e(r,o))}},Mt=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}},Ct=function(e){return e},Et=function(e,t){return e*t/255},xt=function(e,t){return e>t?t:e},Dt=function(e,t){return e>t?e:t},Lt=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},At=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Bt=function(e,t){return 255*(1-(1-t/255)/(e/255))},Ot=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};St.normal=Pt(Mt(Ct)),St.multiply=Pt(Mt(Et)),St.screen=Pt(Mt(Lt)),St.overlay=Pt(Mt(At)),St.darken=Pt(Mt(xt)),St.lighten=Pt(Mt(Dt)),St.dodge=Pt(Mt(Ot)),St.burn=Pt(Mt(Bt));var Nt=Math.pow,Rt=Math.sin,It=Math.cos;function Ft(e,n,r,o,i){void 0===e&&(e=300),void 0===n&&(n=-1.5),void 0===r&&(r=1),void 0===o&&(o=1),void 0===i&&(i=[0,1]);var s,l=0;"array"===a(i)?s=i[1]-i[0]:(s=0,i=[i,i]);var c=function(a){var c=f*((e+120)/360+n*a),u=Nt(i[0]+s*a,o),d=(0!==l?r[0]+a*l:r)*u*(1-u)/2,h=It(c),m=Rt(c);return y(t([255*(u+d*(-.14861*h+1.78277*m)),255*(u+d*(-.29227*h-.90649*m)),255*(u+d*(1.97294*h)),1]))};return c.start=function(t){return null==t?e:(e=t,c)},c.rotations=function(e){return null==e?n:(n=e,c)},c.gamma=function(e){return null==e?o:(o=e,c)},c.hue=function(e){return null==e?r:("array"===a(r=e)?0==(l=r[1]-r[0])&&(r=r[1]):l=0,c)},c.lightness=function(e){return null==e?i:("array"===a(e)?(i=e,s=e[1]-e[0]):(i=[e,e],s=0),c)},c.scale=function(){return y.scale(c)},c.hue(r),c}var qt="0123456789abcdef",Tt=Math.floor,Wt=Math.random;function jt(){for(var e="#",t=0;t<6;t++)e+=qt.charAt(Tt(16*Wt()));return new b(e,"hex")}var zt=Math.log,Gt=Math.pow,$t=Math.floor,Ht=Math.abs;function Yt(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===a(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return Vt(n,e,t)},n}function Vt(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==a(e)&&(e=Yt(e));var r=e.min,o=e.max,i=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,o];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(o)),"e"===t.substr(0,1)){s.push(r);for(var l=1;l<n;l++)s.push(r+l/n*(o-r));s.push(o)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*zt(r),u=Math.LOG10E*zt(o);s.push(r);for(var d=1;d<n;d++)s.push(Gt(10,c+d/n*(u-c)));s.push(o)}else if("q"===t.substr(0,1)){s.push(r);for(var f=1;f<n;f++){var h=(i.length-1)*f/n,m=$t(h);if(m===h)s.push(i[m]);else{var v=h-m;s.push(i[m]*(1-v)+i[m+1]*v)}}s.push(o)}else if("k"===t.substr(0,1)){var p,b=i.length,g=new Array(b),y=new Array(n),w=!0,k=0,_=null;(_=[]).push(r);for(var S=1;S<n;S++)_.push(r+S/n*(o-r));for(_.push(o);w;){for(var P=0;P<n;P++)y[P]=0;for(var M=0;M<b;M++)for(var C=i[M],E=Number.MAX_VALUE,x=void 0,D=0;D<n;D++){var L=Ht(_[D]-C);L<E&&(E=L,x=D),y[x]++,g[M]=x}for(var A=new Array(n),B=0;B<n;B++)A[B]=null;for(var O=0;O<b;O++)null===A[p=g[O]]?A[p]=i[O]:A[p]+=i[O];for(var N=0;N<n;N++)A[N]*=1/y[N];w=!1;for(var R=0;R<n;R++)if(A[R]!==_[R]){w=!0;break}_=A,++k>200&&(w=!1)}for(var I={},F=0;F<n;F++)I[F]=[];for(var q=0;q<b;q++)I[p=g[q]].push(i[q]);for(var T=[],W=0;W<n;W++)T.push(I[W][0]),T.push(I[W][I[W].length-1]);T=T.sort((function(e,t){return e-t})),s.push(T[0]);for(var j=1;j<T.length;j+=2){var z=T[j];isNaN(z)||-1!==s.indexOf(z)||s.push(z)}}return s}function Ut(e,t){e=new b(e),t=new b(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}var Jt=Math.sqrt,Xt=Math.pow,Kt=Math.min,Zt=Math.max,Qt=Math.atan2,en=Math.abs,tn=Math.cos,nn=Math.sin,rn=Math.exp,on=Math.PI;function an(e,t,n,r,o){void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=1);var i=function(e){return 360*e/(2*on)},a=function(e){return 2*on*e/360};e=new b(e),t=new b(t);var s=Array.from(e.lab()),l=s[0],c=s[1],u=s[2],d=Array.from(t.lab()),f=d[0],h=d[1],m=d[2],v=(l+f)/2,p=(Jt(Xt(c,2)+Xt(u,2))+Jt(Xt(h,2)+Xt(m,2)))/2,g=.5*(1-Jt(Xt(p,7)/(Xt(p,7)+Xt(25,7)))),y=c*(1+g),w=h*(1+g),k=Jt(Xt(y,2)+Xt(u,2)),_=Jt(Xt(w,2)+Xt(m,2)),S=(k+_)/2,P=i(Qt(u,y)),M=i(Qt(m,w)),C=P>=0?P:P+360,E=M>=0?M:M+360,x=en(C-E)>180?(C+E+360)/2:(C+E)/2,D=1-.17*tn(a(x-30))+.24*tn(a(2*x))+.32*tn(a(3*x+6))-.2*tn(a(4*x-63)),L=E-C;L=en(L)<=180?L:E<=C?L+360:L-360,L=2*Jt(k*_)*nn(a(L)/2);var A=f-l,B=_-k,O=1+.015*Xt(v-50,2)/Jt(20+Xt(v-50,2)),N=1+.045*S,R=1+.015*S*D,I=30*rn(-Xt((x-275)/25,2)),F=-2*Jt(Xt(S,7)/(Xt(S,7)+Xt(25,7)))*nn(2*a(I)),q=Jt(Xt(A/(n*O),2)+Xt(B/(r*N),2)+Xt(L/(o*R),2)+F*(B/(r*N))*(L/(o*R)));return Zt(0,Kt(100,q))}function sn(e,t,n){void 0===n&&(n="lab"),e=new b(e),t=new b(t);var r=e.get(n),o=t.get(n),i=0;for(var a in r){var s=(r[a]||0)-(o[a]||0);i+=s*s}return Math.sqrt(i)}function ln(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(b,[null].concat(e))),!0}catch(e){return!1}}for(var cn={cool:function(){return gt([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},hot:function(){return gt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},un={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},dn=0,fn=Object.keys(un);dn<fn.length;dn+=1){var hn=fn[dn];un[hn.toLowerCase()]=un[hn]}return Object.assign(y,{average:vt,bezier:_t,blend:St,cubehelix:Ft,mix:Ue,interpolate:Ue,random:jt,scale:gt,analyze:Yt,contrast:Ut,deltaE:an,distance:sn,limits:Vt,valid:ln,scales:cn,input:p,colors:Se,brewer:un}),y}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(()=>{"use strict";const e=n(2),t=n(629);setTimeout(e.loadAsriJSModules,0),window.destroyTheme=()=>{(0,e.unloadAsriJSModules)(),(0,t.modeTransition)()}})()})();